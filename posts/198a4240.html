<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Butterfly 更新日誌 | 没用的博客</title><meta name="author" content="Tian"><meta name="copyright" content="Tian"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Butterfly安裝文檔-更新日誌"><meta property="og:type" content="website"><meta property="og:title" content="Butterfly 更新日誌"><meta property="og:url" content="https://blog.tianjiaji.dedyn.io/posts/198a4240.html"><meta property="og:site_name" content="没用的博客"><meta property="og:description" content="Butterfly安裝文檔-更新日誌"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://jsd.012700.xyz/gh/jerryc127/CDN/img/Butterfly-docs-07-cover.png"><meta property="article:published_time" content="2020-05-28T22:41:59.000Z"><meta property="article:modified_time" content="2024-03-01T08:29:47.120Z"><meta property="article:author" content="Tian"><meta property="article:tag" content="教程"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="主題"><meta property="article:tag" content="butterfly"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://jsd.012700.xyz/gh/jerryc127/CDN/img/Butterfly-docs-07-cover.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.tianjiaji.dedyn.io/posts/198a4240.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!0,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:{limitDay:500,position:"top",messagePrev:"It has been",messageNext:"自上次更新以来，文章的内容可能已过时。"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:400},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Butterfly 更新日誌",isPost:!1,isHome:!1,isHighlightShrink:!1,isToc:!1,postUpdate:"2024-03-01 08:29:47"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach(e=>{n.setAttribute(e,t[e])}),document.head.appendChild(n)}),e.getCSS=(e,t=!1)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="没用的博客" type="application/atom+xml">
</head><body><script>window.paceOptions={restartOnPushState:!1},document.addEventListener("pjax:send",()=>{Pace.restart()})</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-fw fas fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 备用站点</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/"><i class="fa-fw fa-solid fa-place-of-worship"></i><span> 主站(Github.io)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.zeabur.app/"><i class="fa-fw fas fa-link"></i><span> 镜像站(香港（亚马逊云科技 – ap-east-1）)</span></a></li><li><a class="site-page child" href="https://blog.tianjiaji.dedyn.io/"><i class="fa-fw fas fa-link"></i><span> 镜像站(香港（东区）)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/blog-Tian/"><i class="fa-fw fas fa-link"></i><span> 副站点 旧</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.tianjiaji.dynv6.net/"><i class="fa-fw fas fa-link"></i><span> 副站点 新</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-gamepad"></i><span> 小游戏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/react-tetris/"><i class="fa-fw fa-solid fa-cubes-stacked"></i><span> 俄罗斯方块</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/cxk-ball/"><i class="fa-fw fa-solid fa-cubes-stacked"></i><span> 顶砖块</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/pacman/"><i class="fa-fw fa-solid fa-bowl-rice"></i><span> 吃豆人</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://rabiroshan.github.io/snake_game/"><i class="fa-fw fa-solid fa-bowl-rice"></i><span> 简单的贪吃蛇(@gamedolphin)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/star-battle/"><i class="fa-fw fa-solid fa-explosion"></i><span> 宇宙飞船射击</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/sliding_puzzle/"><i class="fa-fw fa-solid fa-brain"></i><span> 滑块(@gamedolphin)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-poo"></i><span> AI</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://copilot.microsoft.com/"><i class="fa-fw fa-solid fa-robot"></i><span> copilot AI</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://openai.com/"><i class="fa-fw fa-solid fa-robot"></i><span> OpenAI</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/TianJiaJi/Blog-resources@main/images/1680450445599.png)"><nav id="nav"><span id="blog-info"><a href="/" title="没用的博客"><span class="site-name">没用的博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-fw fas fa-compass"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> 备用站点</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/"><i class="fa-fw fa-solid fa-place-of-worship"></i><span> 主站(Github.io)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.zeabur.app/"><i class="fa-fw fas fa-link"></i><span> 镜像站(香港（亚马逊云科技 – ap-east-1）)</span></a></li><li><a class="site-page child" href="https://blog.tianjiaji.dedyn.io/"><i class="fa-fw fas fa-link"></i><span> 镜像站(香港（东区）)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/blog-Tian/"><i class="fa-fw fas fa-link"></i><span> 副站点 旧</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.tianjiaji.dynv6.net/"><i class="fa-fw fas fa-link"></i><span> 副站点 新</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-gamepad"></i><span> 小游戏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/react-tetris/"><i class="fa-fw fa-solid fa-cubes-stacked"></i><span> 俄罗斯方块</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/cxk-ball/"><i class="fa-fw fa-solid fa-cubes-stacked"></i><span> 顶砖块</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/pacman/"><i class="fa-fw fa-solid fa-bowl-rice"></i><span> 吃豆人</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://rabiroshan.github.io/snake_game/"><i class="fa-fw fa-solid fa-bowl-rice"></i><span> 简单的贪吃蛇(@gamedolphin)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/star-battle/"><i class="fa-fw fa-solid fa-explosion"></i><span> 宇宙飞船射击</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tianjiaji.github.io/sliding_puzzle/"><i class="fa-fw fa-solid fa-brain"></i><span> 滑块(@gamedolphin)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-poo"></i><span> AI</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://copilot.microsoft.com/"><i class="fa-fw fa-solid fa-robot"></i><span> copilot AI</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://openai.com/"><i class="fa-fw fa-solid fa-robot"></i><span> OpenAI</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">Butterfly 更新日誌</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>4.9.0 之後的更新日誌將會單獨文章發佈，請查看 <a href="/categories/%E6%9B%B4%E6%96%B0%E6%97%A5%E8%AA%8C/">更新日誌</a></p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-magic"></i><p>你可以通過右下角的 <strong>簡</strong> 按鈕切換為簡體顯示</p></div><hr><details class="toggle"><summary class="toggle-button">4.9.0 (2023/06/06)</summary><div class="toggle-content"><h2 id="4-9-0-2023-06-06"><a href="#4-9-0-2023-06-06" class="headerlink" title="4.9.0 (2023&#x2F;06&#x2F;06)"></a>4.9.0 (2023&#x2F;06&#x2F;06)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>適配 mermaid v10</p></li><li><p>大於 2000px 時，顯示區域增大</p></li><li><p>可配置 header 和 footer 是否添加黑色半透遮罩</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Add mask to header or footer (為 header 或 footer 添加黑色半透遮罩)</span></span><br><span class="line"><span class="addition">+mask:</span></span><br><span class="line"><span class="addition">+  header: true</span></span><br><span class="line"><span class="addition">+  footer: true</span></span><br></pre></td></tr></table></figure></li><li><p>artalk 最新評論改為 api 直接調用</p></li><li><p>waline 最新評論和評論數改為 api 直接調用</p></li><li><p>再次點擊右下角聊天按鈕，可關閉聊天</p></li><li><p>適配新版 artalk</p></li><li><p>支持隨機友鏈順序</p></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 行內 mathjax 出現滾動條的 bug</li><li>修復當 top_img 為顏色時， 閲讀模式的頂部依舊顯示顏色的 bug</li><li>修復配置 subtitle 的 sub 沒有生效的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>更新 hexo-renderer-stylus</li><li>hr 的美化優化，避免影響第三方插件佈局</li><li>優化 mediumZoom</li><li>首頁微調</li><li>當配置了最新評論時，沒有配置評論時，不會再報錯</li><li>tidio,crisp,daovoice,messenger 和 chatra 代碼優化</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.8.5 (2023/05/09)</summary><div class="toggle-content"><h2 id="4-8-5-2023-05-09"><a href="#4-8-5-2023-05-09" class="headerlink" title="4.8.5 (2023&#x2F;05&#x2F;09)"></a>4.8.5 (2023&#x2F;05&#x2F;09)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>artalk 支持點擊打開大圖</li><li>設置了隨系統而切換淺色和深色模式後，評論和 mermaind 也會跟隨切換顏色</li><li>artalk 最新評論，從 artalk 配置讀取頭像 CDN 和默認頭像</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 Artalk 無法獲取最新評論的 bug</li><li>修復代碼塊在未展開時，點擊複製按鈕，無法複製的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>代碼和性能優化</li><li>artalk 獲取評論數，由 LoadCountWidget 改為 loadCountWidget</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.8.1 (2023/04/10)</summary><div class="toggle-content"><h2 id="4-8-1-2023-04-10"><a href="#4-8-1-2023-04-10" class="headerlink" title="4.8.1 (2023&#x2F;04&#x2F;10)"></a>4.8.1 (2023&#x2F;04&#x2F;10)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 CDN 的 internal_provider 設為 jsdelivr 時，主題的 js 無法加載的 bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.8.0 (2023/04/10)</summary><div class="toggle-content"><h2 id="4-8-0-2023-04-10"><a href="#4-8-0-2023-04-10" class="headerlink" title="4.8.0 (2023&#x2F;04&#x2F;10)"></a>4.8.0 (2023&#x2F;04&#x2F;10)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>移除 gitter</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# gitter</span></span><br><span class="line"><span class="deletion">-# https://gitter.im/</span></span><br><span class="line"><span class="deletion">-gitter:</span></span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  room:</span></span><br></pre></td></tr></table></figure></li><li><p>CDN option 部分參數名字修改</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">CDN:  </span><br><span class="line">  option:</span><br><span class="line"><span class="deletion">-    # algolia_search_v4:</span></span><br><span class="line"><span class="deletion">-    # instantsearch_v4: </span></span><br><span class="line"><span class="deletion">-    # fancybox_css_v4:</span></span><br><span class="line"><span class="deletion">-    # fancybox_v4:  </span></span><br><span class="line"><span class="deletion">-    # fontawesomeV6:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+    # algolia_search:</span></span><br><span class="line"><span class="addition">+    # instantsearch: </span></span><br><span class="line"><span class="addition">+    # fancybox_css:</span></span><br><span class="line"><span class="addition">+    # fancybox:  </span></span><br><span class="line"><span class="addition">+    # fontawesome:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>social 可配置 顏色</p></li><li><p>支持 abcjs 樂譜渲染</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# abcjs (樂譜渲染)</span></span><br><span class="line"><span class="addition">+# See https://github.com/paulrosen/abcjs</span></span><br><span class="line"><span class="addition">+# ---------------</span></span><br><span class="line"><span class="addition">+abcjs:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  per_page: true</span></span><br></pre></td></tr></table></figure></li><li><p>適配 typed.js 新版本</p></li><li><p>Algolia 搜索，點擊文章內容也會跳轉到相應頁面</p></li><li><p>重構本地搜索</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line">  # Preload the search data when the page loads.</span><br><span class="line">  preload: false</span><br><span class="line"><span class="addition">+  # Show top n results per article, show all results by setting to -1</span></span><br><span class="line"><span class="addition">+  top_n_per_article: 1</span></span><br><span class="line"><span class="addition">+  # Unescape html strings to the readable one.</span></span><br><span class="line"><span class="addition">+  unescape: false</span></span><br><span class="line">  CDN:</span><br></pre></td></tr></table></figure></li><li><p>升級 fancybox 到 v5</p></li><li><p>更新 facebook js 版本</p></li><li><p>CDN 配置了 version 為 true, 本地鏈接也會加上版本號</p></li><li><p>支持自定義 giscus 評論系統的 JS 地址</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line">  option:</span><br><span class="line"><span class="addition">+  	giscus: xxxxx</span></span><br></pre></td></tr></table></figure></li><li><p>新增自定義深淺模式切換時間</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># dark mode</span><br><span class="line">darkmode:</span><br><span class="line"><span class="addition">+  # Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span></span><br><span class="line"><span class="addition">+  start: # 8</span></span><br><span class="line"><span class="addition">+  end: # 22</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 safari 下，搜索內容被系統搜索框遮擋的 bug</li><li>修復 fullpage loading 顯示滾動條的 bug</li><li>修復 card_tags.color: true 時遇到 limit 失效問題</li><li>修復設置圖片時，圖片後綴大寫而導致識別錯誤的 bug</li><li>修復開啟 archor 後， pace.js 會隨着 archor 添加而觸發的問題</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>當瀏覽器寬度大於2000px時，卡片寬度由 1500px 改為 1700px</li><li>當沒有開啟 beautify 時， hr 顯示默認的樣式</li><li>手機 safari 橫屏時，網頁全屏幕顯示</li><li>社交圖標的 hover 旋轉180度</li><li>優化 viewport seo</li><li>代碼優化</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.7.0 (2023/02/20)</summary><div class="toggle-content"><h2 id="4-7-0-2023-02-20"><a href="#4-7-0-2023-02-20" class="headerlink" title="4.7.0 (2023&#x2F;02&#x2F;20)"></a>4.7.0 (2023&#x2F;02&#x2F;20)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>card_tags 可配置 orderby 和 order</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  card_tags:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 40 # if set 0 will show all</span><br><span class="line">    color: false</span><br><span class="line"><span class="addition">+    orderby: random # Order of tags, random/name/length</span></span><br><span class="line"><span class="addition">+    order: 1 # Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br></pre></td></tr></table></figure></li><li><p>標籤頁支持配置 orderby 和 order 參數</p></li><li><p>添加 docsearch</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Docsearch</span></span><br><span class="line"><span class="addition">+# https://docsearch.algolia.com/</span></span><br><span class="line"><span class="addition">+docsearch:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  appId:</span></span><br><span class="line"><span class="addition">+  apiKey:</span></span><br><span class="line"><span class="addition">+  indexName:</span></span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>本地搜索，點擊文章內容也會跳轉到相應頁面</p></li><li><p>gallery 標籤外掛增加 json 獲取</p></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 card_author 和 card_announcement 設為 false 後，aside 卡片沒有間距的 bug</li><li>artalk 最新評論無法加載</li><li>修復 waline 在 pjax 模式下 css 沒有加載的 bug</li><li>修復本地搜索,部分符號無法搜索的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>getCSS 重構</li><li>滾動條變小</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.6.1 (2023/01/18)</summary><div class="toggle-content"><h2 id="hideToggle-4-6-1-2023-01-18"><a href="#hideToggle-4-6-1-2023-01-18" class="headerlink" title="hideToggle 4.6.1 (2023&#x2F;01&#x2F;18)"></a>hideToggle 4.6.1 (2023&#x2F;01&#x2F;18)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>可配置 typed.js 的參數</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">subtitle:</span><br><span class="line"><span class="deletion">-  # Effect Speed Options (打字效果速度參數)</span></span><br><span class="line"><span class="deletion">-  startDelay: 300 # time before typing starts in milliseconds</span></span><br><span class="line"><span class="deletion">-  typeSpeed: 150 # type speed in milliseconds</span></span><br><span class="line"><span class="deletion">-  backSpeed: 50 # backspacing speed in milliseconds</span></span><br><span class="line"><span class="deletion">-  # loop (循環打字)</span></span><br><span class="line"><span class="deletion">-  loop: true</span></span><br><span class="line"><span class="addition">+  # Customize typed.js (配置typed.js)</span></span><br><span class="line"><span class="addition">+  # https://github.com/mattboldt/typed.js/#customization</span></span><br><span class="line"><span class="addition">+  typed_option:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 typeJSFn 重複賦值的 bug</li><li>修復固定狀態欄後，標題有陰影的 bug</li><li>修復 gallery 標籤將圖片鏈接截斷導致404無法加載圖片的 bug</li><li>修復開啟導航欄固定後，點擊部分滾動向上的按鈕，滾動的目標部分被導航欄遮擋的 bug</li><li>修復固定導航欄後，toc 被遮擋的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>切換簡繁時，會改變 html 的 lang 屬性</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.6.0 (2023/01/15)</summary><div class="toggle-content"><h2 id="4-6-0-2023-01-15"><a href="#4-6-0-2023-01-15" class="headerlink" title="4.6.0 (2023&#x2F;01&#x2F;15)"></a>4.6.0 (2023&#x2F;01&#x2F;15)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>cover 的顯示優化 #1101</p><p>當 cover 設置為 false，或者沒有獲取到 cover 的值時，文章頁相關推薦和分頁按鈕背景顯示為主題色</p></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>toc可設置是否顯示預覽進度</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line"><span class="addition">+  scroll_percent: true</span></span><br></pre></td></tr></table></figure></li><li><p>右下角按鈕增加預覽進度顯示</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# show scroll percent in scroll-to-top button</span></span><br><span class="line"><span class="addition">+rightside_scroll_percent: true</span></span><br></pre></td></tr></table></figure></li><li><p>cover 可設置顏色&#x2F;漸變色 等配置</p></li><li><p>default_cover 可配置顏色</p></li><li><p>導航欄設置：隱藏博客名字 &#x2F; 設置 logo &#x2F; 設置固定導航欄 # 1150 #1104</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+nav:</span></span><br><span class="line"><span class="addition">+  logo: # image</span></span><br><span class="line"><span class="addition">+  display_title: true</span></span><br><span class="line"><span class="addition">+  fixed: false # fixed navigation bar</span></span><br></pre></td></tr></table></figure></li><li><p>不蒜子可配置 CDN #1132</p></li><li><p>gallery 標簽外掛增加圖片懶加載，增加 lazyload rowHeight 和 limit 屬性配置</p></li><li><p>更新 plugins.yml</p></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 hexo-log 讀取不到的 bug #1102</li><li>修復使用本地搜索時，輸入特殊符號沒有顯示結果的 bug</li><li>修復頂部圖和 footer 配置帶有&#x2F;的顏色參數時，無法顯示顏色的 bug</li><li>修復閲讀模式下，代碼塊的背景顏色仍顯示彩色背景的 bug (自定義代碼塊) #1139</li><li>修復開啟懶加載後，再使用 flink_url 的方式引入友鏈數據，友鏈頭像有可能不顯示的 bug #1146</li><li>修復 pjax 下， waline js 會重複加載的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>日期設置相對日期時，文章的日期格式和最新評論的日期格式統一為 年月日</li><li>修復使用本地搜索時，輸入特殊符號沒有顯示結果的 bug</li><li>鼠標移動到分頁時，文章分頁按鈕增加説明文字</li><li>文章頁的頂部圖顯示次序為 top_img &gt; cover &gt; default_top_img</li><li>修改配置文件註釋</li><li>優化搜索結果顯示滾動條位置</li><li>搜索結果換行時不會拆分單詞顯示</li><li>canonical 的鏈接根據配置生成</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li><p>移除 cnzz 分析</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# CNZZ Analytics</span></span><br><span class="line"><span class="deletion">-# https://www.umeng.com/</span></span><br><span class="line"><span class="deletion">-cnzz_analytics:</span></span><br></pre></td></tr></table></figure></li></ol></div></details><details class="toggle"><summary class="toggle-button">4.5.1 (2022/10/31)</summary><div class="toggle-content"><h2 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h2><ol><li><p>修復 mathjax 行內公式 導致行距過密的 bug</p></li><li><p>修復更新 mathjax 新版本後，mathjax 會溢出屏幕而不是顯示滾動條的 bug</p></li></ol><h2 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement:"></a>Improvement:</h2><ol><li>避免沒更新主題文件而導致 anchor 配置報錯的問題</li><li>更新 plugins.yml</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.5.0 (2022/10/21)</summary><div class="toggle-content"><h2 id="4-5-0-2022-10-21"><a href="#4-5-0-2022-10-21" class="headerlink" title="4.5.0 (2022&#x2F;10&#x2F;21)"></a>4.5.0 (2022&#x2F;10&#x2F;21)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>Open_Graph_meta 設置更改，可配置其它參數</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-Open_Graph_meta: true</span></span><br><span class="line"><span class="addition">+Open_Graph_meta:</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>preloader 設置更改，增加 pace.js 加載動畫條</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-preloader: false</span></span><br><span class="line"><span class="addition">+preloader:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  # source</span></span><br><span class="line"><span class="addition">+  # 1. fullpage-loading</span></span><br><span class="line"><span class="addition">+  # 2. pace (progress bar)</span></span><br><span class="line"><span class="addition">+  source: 1</span></span><br><span class="line"><span class="addition">+  # pace theme (see https://codebyzach.github.io/pace/)</span></span><br><span class="line"><span class="addition">+  pace_css_url:</span></span><br></pre></td></tr></table></figure></li><li><p>anchor 設置更改，可單獨設置按鈕和自動更新 anchor 是否開啟，可設置 button 圖標，可設置 button 總是顯示</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-anchor: false</span></span><br><span class="line"><span class="addition">+anchor:</span></span><br><span class="line"><span class="addition">+  button:</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line"><span class="addition">+    always_show: false</span></span><br><span class="line"><span class="addition">+    icon: # the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line"><span class="addition">+  auto_update: false # when you scroll in post, the URL will update according to header id.</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>更新 Facebook sdk 到 v15</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修正 <code>throttle</code> 函數調用方式 #1075</li><li>修復控制枱報 loadFBComment error 的 bug #1066</li><li>修復屏幕寬度為 768px 時的佈局混用問題 #1032</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>簡繁轉換增加部分字 #1076</li><li>本地預覽，友情鏈接頁面刷新，內容不會重複顯示</li><li>更新 plugins.yml</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li>移除 meta keywords</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.4.0 (2022/08/18)</summary><div class="toggle-content"><h2 id="4-4-0-2022-08-18"><a href="#4-4-0-2022-08-18" class="headerlink" title="4.4.0 (2022&#x2F;08&#x2F;18)"></a>4.4.0 (2022&#x2F;08&#x2F;18)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>在綫聊天新增 facebook 洽談外掛程式 messenger</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+messenger:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  pageID:</span></span><br><span class="line"><span class="addition">+  lang: zh_TW # Language en_US/zh_CN/zh_TW and so on</span></span><br></pre></td></tr></table></figure></li><li><p>添加 artalk 評論功能</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+artalk:</span></span><br><span class="line"><span class="addition">+  server:</span></span><br><span class="line"><span class="addition">+  site:</span></span><br><span class="line"><span class="addition">+  visitor: false</span></span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>首頁打字效果增加參數配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">subtitle:</span><br><span class="line">...</span><br><span class="line"><span class="addition">+  # Effect Speed Options (打字效果速度參數)</span></span><br><span class="line"><span class="addition">+  startDelay: 300 # time before typing starts in milliseconds</span></span><br><span class="line"><span class="addition">+  typeSpeed: 150 # type speed in milliseconds</span></span><br><span class="line"><span class="addition">+  backSpeed: 50 # backspacing speed in milliseconds</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復開啟 archor 後， facebook 評論加載不正確的 bug</li><li>修復 facebook 評論數無法加載的 bug</li><li>修復子目錄 hover 沒有圓角的 bug #965</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.3.1 (2022/06/27)</summary><div class="toggle-content"><h2 id="4-3-1-2022-06-27"><a href="#4-3-1-2022-06-27" class="headerlink" title="4.3.1 (2022&#x2F;06&#x2F;27)"></a>4.3.1 (2022&#x2F;06&#x2F;27)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>當設置 comments 為 false 時，如果設置了顯示評論提供的閲讀數，閲讀數無法顯示的 bug</li><li>findArchivesTitle bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.3.0 (2022/06/24)</summary><div class="toggle-content"><h2 id="4-3-0-2022-06-24"><a href="#4-3-0-2022-06-24" class="headerlink" title="4.3.0 (2022&#x2F;06&#x2F;24)"></a>4.3.0 (2022&#x2F;06&#x2F;24)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>archives 隱藏aside 設置更改</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"><span class="deletion">-  archive: true</span></span><br><span class="line"><span class="addition">+  display:</span></span><br><span class="line"><span class="addition">+    archive: true</span></span><br></pre></td></tr></table></figure></li><li><p>適配 disqusjs 3.0</p></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>子歸檔頁面顯示的文章數量不再顯示總文章數量，而是對應的子歸檔文章數量</p></li><li><p>為一些數據加載增加 loading 顯示</p></li><li><p>tag 和 category 頁面可設置隱藏 aside</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"><span class="addition">+  display:</span></span><br><span class="line"><span class="addition">+    tag: true</span></span><br><span class="line"><span class="addition">+    category: true</span></span><br></pre></td></tr></table></figure></li><li><p>點擊歸檔日期跳轉到頁面，標題顯示日期而不是‘歸檔’二字</p></li><li><p>適配 katex 升級， 移除 katex copy-tex.css</p></li><li><p>CDN 可一鍵配置 cdnjs</p></li><li><p>CDN 可一鍵配置為 unpkg</p></li><li><p>cdn可設置 version 和 custom format（自定義格式）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="addition">+  version: false</span></span><br><span class="line"><span class="addition">+  custom_format:</span></span><br></pre></td></tr></table></figure></li><li><p>添加Remark42評論系統支持</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Remark42</span></span><br><span class="line"><span class="addition">+# https://remark42.com/docs/configuration/frontend/</span></span><br><span class="line"><span class="addition">+remark42:</span></span><br><span class="line"><span class="addition">+  host: # Your Host URL</span></span><br><span class="line"><span class="addition">+  siteId: # Your Site ID</span></span><br><span class="line">  option:</span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>Algolia搜索沒有結果</li><li>評論系統開啟時 busuanzi 的 page_pv 不顯示</li><li>側邊欄歸檔卡片自定義排序異常</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>修改 note 圖標 class 名字，避免第三方圖標覆蓋主題樣式</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.2.2 (2022/05/19)</summary><div class="toggle-content"><h2 id="4-2-2-2022-05-19"><a href="#4-2-2-2022-05-19" class="headerlink" title="4.2.2 (2022&#x2F;05&#x2F;19)"></a>4.2.2 (2022&#x2F;05&#x2F;19)</h2><p>fix: 修復首頁文章 valine 評論數只顯示第一篇的 bug<br>fix: 修復子目錄下，第三方插件本地資源無法加載的 bug<br>fix: 評論系統開啟時 busuanzi 的 page_pv 不顯示的 bug<br>fix: 修復 pjax 下，使用 mermaid 跳轉會重新加載的 bug<br>improvement: 優化twikoo評論，無評論數容器時不調用API獲取 #897</p></div></details><details class="toggle"><summary class="toggle-button">4.2.1 (2022/05/11)</summary><div class="toggle-content"><h2 id="4-2-1-2022-05-11"><a href="#4-2-1-2022-05-11" class="headerlink" title="4.2.1 (2022&#x2F;05&#x2F;11)"></a>4.2.1 (2022&#x2F;05&#x2F;11)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>CDN 配置為 local 時 mathjax 字體缺失的 bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.2.0 (2022/05/02)</summary><div class="toggle-content"><h2 id="4-2-0-2022-05-02"><a href="#4-2-0-2022-05-02" class="headerlink" title="4.2.0 (2022&#x2F;05&#x2F;02)"></a>4.2.0 (2022&#x2F;05&#x2F;02)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>waline 適配 V2</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-    waline: </span></span><br><span class="line"><span class="addition">+    waline_js:</span></span><br><span class="line"><span class="addition">+    waline_css:</span></span><br></pre></td></tr></table></figure></li><li><p>waline 的 visitor 改為 pageview</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">waline:</span><br><span class="line"><span class="deletion">-  visitor: false</span></span><br><span class="line"><span class="addition">+  pageview: false</span></span><br></pre></td></tr></table></figure></li><li><p>cdn 可一鍵設置 本地文件&#x2F;可單獨配置主題文件，第三方文件的 cdn</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="addition">+  # The CDN provider of internal scripts (主題內部 js 的 cdn 配置)</span></span><br><span class="line"><span class="addition">+  # option: local/jsdelivr</span></span><br><span class="line"><span class="addition">+  # Dev version cannot choose jsdelivr (dev版的主題不能設置為 jsdelivr)</span></span><br><span class="line"><span class="addition">+  internal_provider: local</span></span><br><span class="line"><span class="addition">+  # The CDN provider of third party scripts (第三方 js 的 cdn 配置)</span></span><br><span class="line"><span class="addition">+  # option: local/jsdelivr</span></span><br><span class="line"><span class="addition">+  # when set it to local, you need to install hexo-butterfly-extjs</span></span><br><span class="line"><span class="addition">+  third_party_provider: jsdelivr</span></span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>移除 utterances，giscus， addtoany， busuanzi 的 cdn 配置</p></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>algolia 搜索增加文章內容顯示和高亮</p></li><li><p>搜索內容顯示區域變大</p></li><li><p>本地搜索增加 preload,cdn 配置 #859</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="addition">+  preload: false</span></span><br><span class="line"><span class="addition">+  CDN:</span></span><br></pre></td></tr></table></figure></li><li><p>更新 social-share cdn 版本</p></li><li><p>歸檔頁面的側邊欄支持隱藏</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"><span class="addition">+  archives: true</span></span><br></pre></td></tr></table></figure></li><li><p>可配置文章版權模塊的作者超鏈接</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line"><span class="addition">+  author_href:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>mathjax 顯示不完全的 bug</li><li>標題中帶有 HTML 關鍵字時，會破壞相關推薦的渲染 #836</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>搜索標題統一顯示為 ‘搜索’</li><li>algolia 搜索的 logo 改為 instantsearch 調用</li><li>algolia 第一次進入時不會自動搜索 #867</li><li>搜索內容增加 … 縮略辨識</li><li>調整分享按鈕導致的間距問題</li><li>html&#x2F;css 優化</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.1.0 (2022/02/13)</summary><div class="toggle-content"><h2 id="4-1-0-2022-02-13"><a href="#4-1-0-2022-02-13" class="headerlink" title="4.1.0 (2022&#x2F;02&#x2F;13)"></a>4.1.0 (2022&#x2F;02&#x2F;13)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>升級 fontawesome 到 v6 #689</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  fontawesome:</span></span><br><span class="line"><span class="addition">+  fontawesomeV6:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>snackbar 增加圓角</li><li>增加 flink 標籤外掛</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復點擊 toc 外圍,控制枱報錯的 bug</li><li>Facebook Comments 無法使用 #787</li><li>chat_btn 聊天按鈕翻譯缺失 #791</li><li>local search 的 content 設為 false, 搜索無法運行的 bug #764</li><li>Mermaid 圖表渲染後元素高度過大 #773</li><li>文章頁分享按鈕另開一行時， 導航頁寬度沒有 100% 的 bug #765</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>語義化 toggle 標籤外掛</li><li>darkmode 下 toc 背景顏色更改</li></ol></div></details><details class="toggle"><summary class="toggle-button">4.0.1 (2022/01/16)</summary><div class="toggle-content"><h2 id="4-0-1-2022-01-16"><a href="#4-0-1-2022-01-16" class="headerlink" title="4.0.1 (2022&#x2F;01&#x2F;16)"></a>4.0.1 (2022&#x2F;01&#x2F;16)</h2><p>improvement: 優化 pjax 下，右下角按鈕的動畫</p><p>fix: 修復頁面設置 aside 為 true 時，js 報錯的 bug</p><p>fix: 修復部分頁面右下角按鈕位置遮擋的 bug</p><p>fix: 修復壓縮 html 代碼,友情鏈接頁面壓縮會報錯的 bug</p><p>fix: 修復safari上滑動側邊菜單欄會收起的 bug</p></div></details><details class="toggle"><summary class="toggle-button">4.0.0 (2022/01/15)</summary><div class="toggle-content"><h2 id="4-0-0-2022-01-15"><a href="#4-0-0-2022-01-15" class="headerlink" title="4.0.0 (2022&#x2F;01&#x2F;15)"></a>4.0.0 (2022&#x2F;01&#x2F;15)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>精簡各評論的配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">disqusjs:</span><br><span class="line"><span class="deletion">-  apikey:</span></span><br><span class="line"><span class="deletion">-  api:</span></span><br><span class="line"><span class="deletion">-  nocomment: # display when a blog post or an article has no comment attached</span></span><br><span class="line"><span class="deletion">-  admin:</span></span><br><span class="line"><span class="deletion">-  adminLabel:</span></span><br><span class="line"><span class="addition">+  option:</span></span><br><span class="line"></span><br><span class="line">gitalk:</span><br><span class="line"><span class="deletion">-  language: en # en, zh-CN, zh-TW, es-ES, fr, ru</span></span><br><span class="line"><span class="deletion">-  perPage: 10 # Pagination size, with maximum 100.</span></span><br><span class="line"><span class="deletion">-  distractionFreeMode: false # Facebook-like distraction free mode.</span></span><br><span class="line"><span class="deletion">-  pagerDirection: last # Comment sorting direction, available values are last and first.</span></span><br><span class="line"><span class="deletion">-  createIssueManually: false # Gitalk will create a corresponding github issue for your every single page automatically</span></span><br><span class="line"></span><br><span class="line">valine:</span><br><span class="line"><span class="deletion">-  pageSize: 10 # comment list page size</span></span><br><span class="line"><span class="deletion">-  lang: en # i18n: zh-CN/zh-TW/en/ja</span></span><br><span class="line"><span class="deletion">-  placeholder: Please leave your footprints # valine comment input placeholder (like: Please leave your footprints)</span></span><br><span class="line"><span class="deletion">-  guest_info: nick,mail,link # valine comment header info (nick/mail/link)</span></span><br><span class="line"><span class="deletion">-  recordIP: false # Record reviewer IP</span></span><br><span class="line"><span class="deletion">-  bg: # valine background</span></span><br><span class="line"><span class="deletion">-  emojiCDN: # emoji CDN</span></span><br><span class="line"><span class="deletion">-  enableQQ: false # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line"><span class="deletion">-  requiredFields: nick,mail # required fields (nick/mail)</span></span><br><span class="line"></span><br><span class="line">waline:</span><br><span class="line"><span class="deletion">-  avatar: monsterid # gravatar style https://zh-tw.gravatar.com/site/implement/images/#default-image</span></span><br><span class="line"><span class="deletion">-  avatarCDN: # Gravatar CDN baseURL</span></span><br></pre></td></tr></table></figure></li><li><p>頁面支持 toc #636</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"><span class="addition">+  post: true</span></span><br><span class="line"><span class="addition">+  page: false</span></span><br></pre></td></tr></table></figure></li><li><p>刪除 hide_sidebar_menu_child 配置，改為直接在 menu 配置 #640</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Hide the child menu items in mobile sidebar</span></span><br><span class="line"><span class="deletion">-hide_sidebar_menu_child: false</span></span><br></pre></td></tr></table></figure></li><li><p>完全移除 jquery</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>移除騰訊分析</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Tencent Analytics ID</span></span><br><span class="line"><span class="deletion">-# https://mta.qq.com</span></span><br><span class="line"><span class="deletion">-tencent_analytics:</span></span><br></pre></td></tr></table></figure></li><li><p>photofigcaption 和 fancybox 的 figcaption 優先顯示 圖片的title屬性，然後是 alt 屬性 #683</p></li><li><p>支持新的評論名寫法，主題會處理評論名字大小寫，舊的會兼容</p></li><li><p>移除博天api，注意順序改變</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span><br><span class="line"># source: 2  調用一句網（簡體） http://yijuzhan.com/</span><br><span class="line"># source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span><br></pre></td></tr></table></figure></li><li><p>移除 html 的 font-size 改為瀏覽器默認大小</p></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>更新 fancybox 到 4</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  fancybox_css: https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css</span></span><br><span class="line"><span class="deletion">-  fancybox: https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js</span></span><br><span class="line"><span class="addition">+  fancybox_css_v4:</span></span><br><span class="line"><span class="addition">+  fancybox_v4:</span></span><br></pre></td></tr></table></figure></li><li><p>右下角按鈕自定義順序 #680</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+rightside_item_order:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  hide: # readmode,translate,darkmode,hideAside</span></span><br><span class="line"><span class="addition">+  show: # toc,chat,comment</span></span><br></pre></td></tr></table></figure></li><li><p>網站資料顯示，當標籤和分類為0時，數量顯示為 0，而不是隱藏</p></li><li><p>代碼框設置高度限制，展開後按鈕不會消失，可點擊再次摺疊 #637</p></li><li><p>圖片選擇性禁用 lightbox #636</p></li><li><p>Twikoo 評論圖片添加 lightbox</p></li><li><p>升級 facebook comment js 到 version 11</p></li><li><p>為文章單獨設置 TOC simple_style 顯示 #631</p></li><li><p>page 頁頂部圖增加黑色遮罩 #671</p></li><li><p>首頁 pagination更新 UI</p></li><li><p>主題 css 使用的 rem 改為 em 或 px</p></li><li><p>移除 右下角字體調整按鈕</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Change font size</span></span><br><span class="line"><span class="deletion">-change_font_size: false</span></span><br></pre></td></tr></table></figure></li><li><p>新增標籤外掛 timeline #644</p></li><li><p>清除 配置文件 的CDN，默認CDN 不再顯示在 config</p></li><li><p>替換 Justified Gallery 為 flickr-justified-gallery</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  justifiedGallery_js: https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js</span></span><br><span class="line"><span class="deletion">-  justifiedGallery_css: https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css</span></span><br><span class="line"><span class="addition">+  flickr_justified_gallery_js:</span></span><br><span class="line"><span class="addition">+  flickr_justified_gallery_css:</span></span><br></pre></td></tr></table></figure></li><li><p>切換夜間模式後，mermaid 也會切換夜間主題</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mermaid:</span><br><span class="line">  enable: true</span><br><span class="line">  # built-in themes: default/forest/dark/neutral</span><br><span class="line"><span class="deletion">-  theme: default</span></span><br><span class="line"><span class="addition">+  theme: </span></span><br><span class="line"><span class="addition">+    light: default</span></span><br><span class="line"><span class="addition">+    dark: dark</span></span><br></pre></td></tr></table></figure></li><li><p>壓縮html代碼後，mermaid 顯示正常</p></li><li><p>mermaid 可以在 隱藏屬性的標籤外掛 裏使用</p></li><li><p>本地搜索可處理 json #684</p></li><li><p>右下角按鈕 UI 微調</p></li><li><p>更改文章美化後,列表的顯示效果 #693 #686</p></li><li><p>algolia 升級至 v4</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  algolia_search: https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js</span></span><br><span class="line"><span class="deletion">-  algolia_search_css: https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css</span></span><br><span class="line"><span class="addition">+  algolia_search_v4:</span></span><br><span class="line"><span class="addition">+  instantsearch_v4:</span></span><br></pre></td></tr></table></figure></li><li><p>本地搜索增加數據庫加載中和搜索中 loading 顯示</p></li><li><p>anchor 不再限制 post 頁開啟，可以在任何頁面開啟</p></li><li><p>文章標題支持點擊跳轉到此標題開始閲讀 #653</p></li><li><p>toc 可以設置全部展開 #709</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line"><span class="addition">+  expand: false</span></span><br></pre></td></tr></table></figure></li><li><p>增加 新的評論系統 giscus</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Giscus</span></span><br><span class="line"><span class="addition">+# https://giscus.app/</span></span><br><span class="line"><span class="addition">+giscus:</span></span><br><span class="line"><span class="addition">+  repo:</span></span><br><span class="line"><span class="addition">+  repo_id:</span></span><br><span class="line"><span class="addition">+  category_id:</span></span><br><span class="line"><span class="addition">+  theme:</span></span><br><span class="line"><span class="addition">+    light: light</span></span><br><span class="line"><span class="addition">+    dark: dark</span></span><br><span class="line"><span class="addition">+  option:</span></span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"><span class="addition">+  giscus:</span></span><br></pre></td></tr></table></figure></li><li><p>友情鏈接列表增加 fetch url 獲取</p></li><li><p>toc 間隔調整, 直接子元素增加豎線辨識 closed #723</p></li><li><p>可配置scrollbar顏色</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">theme_color:</span><br><span class="line"><span class="addition">+  scrollbar_color: &quot;#49b1f5&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>美化 firefox 瀏覽器滾動條</p></li><li><p>CDN 增加 blueimp_md5 配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="addition">+  blueimp_md5:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 開啟 lazyload 時， fancybox 的縮略圖顯示 lazyload 加載圖片的 bug</li><li>修復 字體過大&#x2F;過小而導致 部分 ui 偏移的 bug</li><li>修復 自建頁面圖片沒有 blur 效果</li><li>修復窗口大小改變時，導航欄的 ui 可能會錯亂的 bug</li><li>修復 pjax下 ，twikoo 評論獲取是上一篇評論的 bug #678</li><li>修復 rightside 遮擋內容，導致內容無法點擊的 bug</li><li>修復 mermaid 在某些頁面（有元素 id 為 mermaid 時） 會無法加載的 bug</li><li>修復 搜索框不會自動 focus 的 bug</li><li>修復沒有配置 comments 的 use 時，會報錯的 bug</li><li>修復 toc 在小設備上顯示出屏幕外的 bug</li><li>修復在打賞按鈕周圍也會觸發打賞彈窗的 bug</li><li>修復 Waline 最近評論的時間只顯示 “剛剛” 的問題 (以docker的方式執行) #730</li><li>修復 utterances 的 issue_term 設為 url，og:title時，評論顯示錯誤的 bug</li><li>修復評論配置為 Livere 和 Facebook Comments 時，最新評論模塊仍然顯示的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>subtitle 代碼優化，當 source 設為 false，同時 sub 也沒有配置，將會讀取 hexo 配置文件的 subtitle, 無須使用轉義字符</li><li>禁止 ios 點擊搜索框，頁面放大的問題</li><li>sidebar menu 點擊展開不再限制只能點擊按鈕 #640</li><li>修改沒有頂部圖下，文章頁的標題大小</li><li>優化 404 頁面 UI</li><li>lazyload 默認佔位圖改為透明圖片</li><li>優化 css</li><li>優化 lazyload blur 出現特效</li><li>手機端更改閲讀模式退出按鈕到右下角</li><li>ui 微調</li><li>禁止一些瀏覽器會出現點擊左下角按鈕出現放大網頁的行為</li><li>鼠標移到最新評論內容，增加 title 顯示</li><li>移除 button 的 hover 效果</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.8.4 (2021/09/18)</summary><div class="toggle-content"><h2 id="3-8-4-2021-09-18"><a href="#3-8-4-2021-09-18" class="headerlink" title="3.8.4 (2021&#x2F;09&#x2F;18)"></a>3.8.4 (2021&#x2F;09&#x2F;18)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復開啟 photofigcaption 後，導致 inlineImg 標籤外掛顯示錯亂的 bug close #667</li><li>修復使用本地搜索時，搜索插件配置為不搜索文章內容會無法使用搜索的 bug close #666</li><li>修復可能導致相關文章鏈接出錯的 bug close #549</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>調整代碼框滾動條顏色 close #651</li><li>當圖片沒有 figcaption 時，不會添加 figcaption 代碼</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.8.3 (2021/07/30)</summary><div class="toggle-content"><h2 id="3-8-3-2021-07-30"><a href="#3-8-3-2021-07-30" class="headerlink" title="3.8.3 (2021&#x2F;07&#x2F;30)"></a>3.8.3 (2021&#x2F;07&#x2F;30)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 Waline 評論系統 設置 avatarCDN 無效的 bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.8.2 (2021/07/20)</summary><div class="toggle-content"><h2 id="3-8-2-2021-07-20"><a href="#3-8-2-2021-07-20" class="headerlink" title="3.8.2 (2021&#x2F;07&#x2F;20)"></a>3.8.2 (2021&#x2F;07&#x2F;20)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 footer 在部分瀏覽器沒有顯示在底部的 bug #616</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>修改配置文件註釋 #613</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.8.1 (2021/07/10)</summary><div class="toggle-content"><h2 id="3-8-1-2021-07-10"><a href="#3-8-1-2021-07-10" class="headerlink" title="3.8.1 (2021&#x2F;07&#x2F;10)"></a>3.8.1 (2021&#x2F;07&#x2F;10)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 inline mathjax 有滾動條的 bug</li><li>修復友情鏈接的頭像帶有 Medium Zoom 燈箱的 bug #607</li><li>修復友情鏈接的頭像帶有 FancyBox 燈箱的 bug #607</li></ol><h3 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h3><ol><li>update hexo-renderer-pug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.8.0 (2021/07/04)</summary><div class="toggle-content"><h2 id="3-8-0-2021-07-04"><a href="#3-8-0-2021-07-04" class="headerlink" title="3.8.0 (2021&#x2F;07&#x2F;04)"></a>3.8.0 (2021&#x2F;07&#x2F;04)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>archives 的 標題 在 menu 配置中獲取</p></li><li><p>移除最新評論的評論服務商選擇，默認為配置的第一個評論服務商</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">newest_comments:</span><br><span class="line">  enable: false</span><br><span class="line">  sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  limit: 6</span><br><span class="line">  storage: 10 # unit: mins, save data to localStorage</span><br><span class="line">  avatar: true</span><br><span class="line"><span class="deletion">-  # You can only choose one, or neither</span></span><br><span class="line"><span class="deletion">-  valine: false</span></span><br><span class="line"><span class="deletion">-  github_issues:</span></span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line"><span class="deletion">-    repo:</span></span><br><span class="line"><span class="deletion">-  disqus:</span></span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line"><span class="deletion">-    forum:</span></span><br><span class="line"><span class="deletion">-    api_key:</span></span><br><span class="line"><span class="deletion">-  twikoo: false</span></span><br><span class="line"><span class="deletion">-  waline: false</span></span><br></pre></td></tr></table></figure></li><li><p>widget 寫法更改&#x2F;可添加非 sticky 區域 widget</p></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>修改最新評論 icon</p></li><li><p>waline 顔色適配主題色</p></li><li><p>增加 waline avatarCDN 配置（最新評論也會更新）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">waline:</span><br><span class="line">	...</span><br><span class="line"><span class="addition">+	avatarCDN： # Gravatar CDN baseURL</span></span><br></pre></td></tr></table></figure></li><li><p>升級 facebook comment js 到 v10</p></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復友情鏈接和aside 頭像在 lazyload blur下的顯示 bug</li><li>修復設置 highlight_shrink: true 後，部分代碼框依舊展開的 bug #602</li><li>修復 mathjax 在列表下，導致 列表沒有樣式的 bug #586</li><li>修復文章頁 mathjax 因字體小導致顯示重疊的 bug #587</li><li>修復當內容過少時，footer 沒有底部靠攏的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>UI 優化</li><li>waline 字體大小，頭像特效調整</li><li>pjax 優化</li><li>減少卡頓，apple 裝置首頁背景 background-attachment 設為 scroll</li><li>404 頁面不再顯示 rightside</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.7.8 (2021/06/05)</summary><div class="toggle-content"><h2 id="3-7-8-2021-06-05"><a href="#3-7-8-2021-06-05" class="headerlink" title="3.7.8 (2021&#x2F;06&#x2F;05)"></a>3.7.8 (2021&#x2F;06&#x2F;05)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li>移除 waline 的 emojiCDN 和 emojiMaps 配置</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 升級到 waline 1.x 而出現的 bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.7.7 (2021/05/11)</summary><div class="toggle-content"><h2 id="3-7-7-2021-05-11"><a href="#3-7-7-2021-05-11" class="headerlink" title="3.7.7 (2021&#x2F;05&#x2F;11)"></a>3.7.7 (2021&#x2F;05&#x2F;11)</h2><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>適配新版 waline 夜間模式</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.7.6 (2021/05/09)</summary><div class="toggle-content"><h2 id="3-7-6-2021-05-09"><a href="#3-7-6-2021-05-09" class="headerlink" title="3.7.6 (2021&#x2F;05&#x2F;09)"></a>3.7.6 (2021&#x2F;05&#x2F;09)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復標題&#x2F;博客名有 ‘ 時，pjax 會報錯的 bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>css 調整</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.7.5 (2021/05/05)</summary><div class="toggle-content"><h2 id="3-7-5-2021-05-05"><a href="#3-7-5-2021-05-05" class="headerlink" title="3.7.5 (2021&#x2F;05&#x2F;05)"></a>3.7.5 (2021&#x2F;05&#x2F;05)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>site_verification 優化，需自行配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Google Webmaster tools verification setting</span></span><br><span class="line"><span class="deletion">-# See: https://www.google.com/webmasters/</span></span><br><span class="line"><span class="deletion">-google_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# Bing Webmaster tools verification setting</span></span><br><span class="line"><span class="deletion">-# See: https://www.bing.com/webmaster/</span></span><br><span class="line"><span class="deletion">-bing_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# Baidu Webmaster tools verification setting</span></span><br><span class="line"><span class="deletion">-# See: https://ziyuan.baidu.com/site/</span></span><br><span class="line"><span class="deletion">-baidu_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# 360 Webmaster tools verification setting</span></span><br><span class="line"><span class="deletion">-# see http://zhanzhang.so.com/</span></span><br><span class="line"><span class="deletion">-qihu_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# Yandex Webmaster tools verification setting</span></span><br><span class="line"><span class="deletion">-# see https://webmaster.yandex.com/</span></span><br><span class="line"><span class="deletion">-yandex_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+site_verification:</span></span><br></pre></td></tr></table></figure></li><li><p>lazyload 優化 (增加高斯模糊過度特效，增加配置 lazyload 範圍，佔位圖應用到全站)</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lazyload:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="deletion">-  post: /img/loading.gif</span></span><br><span class="line"><span class="addition">+  field: site # site/post</span></span><br><span class="line"><span class="addition">+  placeholder: /img/loading.gif</span></span><br><span class="line"><span class="addition">+  blur: false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>增加 tags 標簽外掛 - label</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復開啟anchor後，文章頁跳轉回主頁，主頁網址的hash添加上文章頁最後一個標題的 bug</li><li>修復開啟anchor後,瀏覽器上一頁&#x2F;下一頁 跳轉會 404 的bug (文章頁的url hash 在pjax下變成 undefined)</li><li>修復 lazyload 報 undefined 的 bug close #532</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>優化 pjax 下 404 頁面</li><li>優化 button tags 標簽外掛</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.7.1 (2021/03/30)</summary><div class="toggle-content"><h2 id="3-7-1-2021-03-30"><a href="#3-7-1-2021-03-30" class="headerlink" title="3.7.1 (2021&#x2F;03&#x2F;30)"></a>3.7.1 (2021&#x2F;03&#x2F;30)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 github-issues 最新評論 獲取的url格式 bug</li><li>修復當標題有符號’時，disqus 和 disqusjs 無法加載的 bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.7.0 (2021/03/18)</summary><div class="toggle-content"><h2 id="3-7-0-2021-03-18"><a href="#3-7-0-2021-03-18" class="headerlink" title="3.7.0 (2021&#x2F;03&#x2F;18)"></a>3.7.0 (2021&#x2F;03&#x2F;18)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>更改子目錄的寫法，與父目錄一致</p></li><li><p>移除 artitalk （如需要，請安裝 hexo-butterfly-artitalk)</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Artitalk</span></span><br><span class="line"><span class="deletion">-# see https://artitalk.js.org/</span></span><br><span class="line"><span class="deletion">-artitalk:</span></span><br><span class="line"><span class="deletion">-  appId:</span></span><br><span class="line"><span class="deletion">-  appKey:</span></span><br><span class="line"><span class="deletion">-  option:</span></span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"><span class="deletion">-	artitalk: https://cdn.jsdelivr.net/npm/artitalk</span></span><br></pre></td></tr></table></figure></li><li><p>katex_copytex 的js 和 css cdn 更換</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-katex_copytex: https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js</span></span><br><span class="line"><span class="deletion">-katex_copytex_css: https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+katex_copytex: https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js</span></span><br><span class="line"><span class="addition">+katex_copytex_css: https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>新增設置代碼高度限制，顯示展開按鈕</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+highlight_height_limit: false # unit: px</span></span><br></pre></td></tr></table></figure></li><li><p>prismjs 也可以配置 code_word_wrap</p></li><li><p>增加 kbd 樣式 #507</p></li><li><p>添加waline,valine 和twikoo 提供的文章閲讀數配置 #502</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line"><span class="addition">+  visitor: false</span></span><br><span class="line">waline:</span><br><span class="line"><span class="addition">+  visitor: false</span></span><br><span class="line">twikoo:</span><br><span class="line"><span class="addition">+  visitor: false</span></span><br></pre></td></tr></table></figure></li><li><p>增加 HexoPlusPlus_Talk（需要安裝 hexo-butterfly-hpptalk)</p></li><li><p>增加 tags 標簽外掛 inlineImg</p></li><li><p>gitalk 增加 option 配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">  createIssueManually: false # Gitalk will create a corresponding github issue for your every single page automatically</span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復prismjs 在 ios safari 下自動換行的bug</li><li>修復默認代碼大小不會隨着字體放大&#x2F;放小而改變的bug</li><li>修復prismjs 無法識別的語言 顯示 null 而不是顯示 code 的 bug</li><li>在完全沒有配置的情況下，運行時控制枱報null 的問題</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>主頁分頁會定位到文章區域 #519</li><li>css 優化，簡化自定義代碼色的 css 配置</li><li>搜索 hover 效果與其它目錄一致</li><li>百度統計適配 pjax #516</li><li>當文章頁cover 和 cover 的 default_img都沒有配置時，會去讀取default_top_img的參數</li><li>一句API 改為 https</li><li>pug代碼優化</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.6.2 (2021/02/03)</summary><div class="toggle-content"><h2 id="3-6-2-2021-02-03"><a href="#3-6-2-2021-02-03" class="headerlink" title="3.6.2 (2021&#x2F;02&#x2F;03)"></a>3.6.2 (2021&#x2F;02&#x2F;03)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>mathjax 和 katex 沒有加載js的bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.6.1 (2021/02/01)</summary><div class="toggle-content"><h2 id="3-6-1-2021-02-01"><a href="#3-6-1-2021-02-01" class="headerlink" title="3.6.1 (2021&#x2F;02&#x2F;01)"></a>3.6.1 (2021&#x2F;02&#x2F;01)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>非ios設備下，手機頁面下文章頁有toc的界面出現滾動條</li><li>非ios設備下，在layout標簽內的元素，如是position: fixed，其相對定位會更改 #482 #483</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.6.0 (2021/01/30)</summary><div class="toggle-content"><h2 id="3-6-0-2021-01-30"><a href="#3-6-0-2021-01-30" class="headerlink" title="3.6.0 (2021&#x2F;01&#x2F;30)"></a>3.6.0 (2021&#x2F;01&#x2F;30)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>增加首頁評論數顯示</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">comments:</span><br><span class="line">  ...</span><br><span class="line">  count: false # Display comment count in post&#x27;s top_img</span><br><span class="line"><span class="addition">+  card_post_count: false # Display comment count in Home Page</span></span><br></pre></td></tr></table></figure></li><li><p>最新評論更新</p><ol><li><code>&lt;a&gt;</code> 標簽將會顯示 <code>[鏈接]</code></li><li><code>&lt;img&gt;</code>標簽將會顯示 <code>[圖片]</code></li><li><code>&lt;pre&gt;&lt;code&gt;</code> 標簽將顯示 <code>[代碼]</code></li><li>github-issues 獲取到的 url 改為對應文章地址，而不是issues地址</li><li>時間 time 增加 datetime屬性</li><li>waline 獲取到頭像會先匹配 waline數據庫是否有qq頭像屬性</li><li>部分評論顯示的時間改為更新時間</li></ol></li><li><p>aside ‘查看更多’按鈕 改為 圖標顯示在右上角</p></li><li><p>可配置最新評論的緩存時間</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">newest_comments:</span><br><span class="line">  enable: false</span><br><span class="line">  sort_order: # Don&#x27;t modify the setting unless you know how it works</span><br><span class="line">  limit: 6</span><br><span class="line"><span class="addition">+  storage: 10 # unit: mins, save data to localStorage</span></span><br></pre></td></tr></table></figure></li><li><p>增加 post_pagination 配置(可關閉&#x2F;配置分頁展示邏輯)</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# post_pagination (分頁)</span></span><br><span class="line"><span class="addition">+# value: 1 || 2 || false</span></span><br><span class="line"><span class="addition">+# 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="addition">+# 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="addition">+# false: disable pagination</span></span><br><span class="line"><span class="addition">+post_pagination: 1</span></span><br></pre></td></tr></table></figure></li><li><p>文章版權右上角改為 版權icon</p></li><li><p>增加配置 disable_top_img，禁用所有的top_img</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Disable all banner image</span></span><br><span class="line"><span class="addition">+disable_top_img: false</span></span><br></pre></td></tr></table></figure></li><li><p>增加 文章編輯</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Post edit</span></span><br><span class="line"><span class="addition">+# Easily browse and edit blog source code online.</span></span><br><span class="line"><span class="addition">+post_edit:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  # url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line"><span class="addition">+  # For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line"><span class="addition">+  url:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復 文章頁面上滑子菜單圖標文字無法顯示的 bug #481</li><li>修復在 chrome上，進入頁面時，頁面元素會出現模糊到清晰 的 bug #479</li><li>修復夜間模式下，閲讀模式代碼塊背景顔色的顯示bug</li><li>修復打賞按鈕字數過多導致Hover異常的bug #473</li><li>修復評論裏 行內元素（表情&#x2F;圖片）變成塊級元素（換行）的bug</li><li>修復點擊toc後，滾動完toc的highlight在點擊的上一個元素</li><li>修復子目錄下，打賞圖片跳轉鏈接會錯誤的bug</li><li>修復文字點擊關閉random無效的bug</li><li>修復手持設備橫向翻轉時，menu 沒有進行判斷,而導致樣式錯亂的bug</li><li>修復pjax下不會跳轉404頁面的bug</li><li>修復twikoo 評論數獲取會因為地域問題報錯的bug</li><li>修復 background-image 遇到鏈接有括號時會無法顯示的bug</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>meta description 限制在150字以內 #480</li><li>pug優化和結構調整</li><li>pug 判斷優化</li><li>友情鏈接界面增加title顯示（top_img設為false時）</li><li>升級facebook comment sdk版本</li><li>優化toc顯示，當向上滾動時，導航欄不會遮擋 toc #472</li><li>pangu 改為全站渲染</li><li>最新評論js優化</li><li>調整 Readmode 標題邊距</li><li>卡片 hover box-shadow 微調</li><li>404頁面卡片增加hover</li><li>刪除部分多餘的代碼</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li><p>移除百度推送（百度已棄用）和百度轉碼</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Disable Baidu transformation on mobile devices (禁止百度轉碼)</span></span><br><span class="line"><span class="deletion">-disable_baidu_transformation: true</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# Baidu Push (百度推送)</span></span><br><span class="line"><span class="deletion">-baidu_push: false</span></span><br></pre></td></tr></table></figure></li><li><p>移除 fragment_cache 配置（默認開啟）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# Caches the contents in a fragment, speed up the generation (開啟hexo自帶的緩存,加快生成速度)</span></span><br><span class="line"><span class="deletion">-fragment_cache: true</span></span><br></pre></td></tr></table></figure></li></ol></div></details><details class="toggle"><summary class="toggle-button">3.5.1 (2020/12/31)</summary><div class="toggle-content"><h2 id="3-5-1-2020-12-31"><a href="#3-5-1-2020-12-31" class="headerlink" title="3.5.1 (2020&#x2F;12&#x2F;31)"></a>3.5.1 (2020&#x2F;12&#x2F;31)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>twikoo增加 region 配置</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復twikoo 廣州地域下，最新評論無法讀取的bugs</li><li>修復waline背景設置無效的bugs</li><li>修復twikoo 廣州地域下，page 頁進入post頁，twikoo評論報錯的bugs</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.5.0 (2020/12/30)</summary><div class="toggle-content"><h2 id="3-5-0-2020-12-30"><a href="#3-5-0-2020-12-30" class="headerlink" title="3.5.0 (2020&#x2F;12&#x2F;30)"></a>3.5.0 (2020&#x2F;12&#x2F;30)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>aside 個人資料widget可關閉button</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"> ...</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description:</span><br><span class="line">    button:</span><br><span class="line"><span class="addition">+      enable: true</span></span><br><span class="line">      icon: fab fa-github</span><br><span class="line">      text: 主題 GitHub</span><br><span class="line">      link: https://github.com/jerryc127/hexo-theme-butterfly</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>新增 Cloudflare Analytics</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Cloudflare Analytics</span></span><br><span class="line"><span class="addition">+# https://www.cloudflare.com/zh-tw/web-analytics/</span></span><br><span class="line"><span class="addition">+cloudflare_analytics:</span></span><br></pre></td></tr></table></figure></li><li><p>新增 Microsoft Clarity</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Microsoft Clarity</span></span><br><span class="line"><span class="addition">+# https://clarity.microsoft.com/</span></span><br><span class="line"><span class="addition">+microsoft_clarity:</span></span><br></pre></td></tr></table></figure></li><li><p>readmode 優化</p></li><li><p>aside 增加自定義 widget</p></li><li><p>aside widget 增加排序（只對page頁和sticky內的有效）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"> ...</span><br><span class="line">  card_recent_post:</span><br><span class="line"><span class="addition">+    sort_order: # Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  card_categories:</span><br><span class="line"><span class="addition">+    sort_order: # Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  card_tags:</span><br><span class="line"><span class="addition">+    sort_order: # Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  card_archives:</span><br><span class="line"><span class="addition">+    sort_order: # Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  card_webinfo:</span><br><span class="line"><span class="addition">+    sort_order: # Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line"></span><br><span class="line">newest_comments:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="addition">+  sort_order: # Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure></li><li><p>twikoo 增加 option 配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Twikoo</span><br><span class="line"># https://github.com/imaegoo/twikoo</span><br><span class="line"><span class="deletion">-twikoo:</span></span><br><span class="line"><span class="addition">+twikoo:</span></span><br><span class="line"><span class="addition">+  envId:</span></span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>增加waline評論</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# waline - A simple comment system with backend support fork from Valine</span></span><br><span class="line"><span class="addition">+# https://waline.js.org/</span></span><br><span class="line"><span class="addition">+waline:</span></span><br><span class="line"><span class="addition">+  serverURL: # Waline server address url</span></span><br><span class="line"><span class="addition">+  avatar: monsterid # gravatar style https://zh-tw.gravatar.com/site/implement/images/#default-image</span></span><br><span class="line"><span class="addition">+  emojiCDN: # emoji CDN</span></span><br><span class="line"><span class="addition">+  bg: /img/comment_bg.png # waline background</span></span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>增加waline評論數顯示</p></li><li><p>增加waline最新評論模塊</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">newest_comments:</span><br><span class="line">  enable: true</span><br><span class="line">	...</span><br><span class="line"><span class="addition">+  waline: false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li><p>最新評論url 增加描點</p></li><li><p>html結構優化</p></li><li><p>修改newest_comments的leancloud為valine，並刪除其配置，改為讀取valine配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Aside widget - Newest Comments</span><br><span class="line">newest_comments:</span><br><span class="line">  ...</span><br><span class="line"><span class="deletion">-  leancloud:</span></span><br><span class="line"><span class="deletion">-    enable: false</span></span><br><span class="line"><span class="deletion">-    appId: # leancloud application app id</span></span><br><span class="line"><span class="deletion">-    appKey: # leancloud application app key</span></span><br><span class="line"><span class="deletion">-    serverURL: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line"><span class="deletion">-    default_avatar: # mp/identicon/monsterid/wavatar/retro/robohash/blank</span></span><br><span class="line"><span class="addition">+ valine: false</span></span><br></pre></td></tr></table></figure></li></ol></div></details><details class="toggle"><summary class="toggle-button">3.4.2 (2020/12/27)</summary><div class="toggle-content"><h2 id="3-4-2-2020-12-27"><a href="#3-4-2-2020-12-27" class="headerlink" title="3.4.2 (2020&#x2F;12&#x2F;27)"></a>3.4.2 (2020&#x2F;12&#x2F;27)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復開啟 gitalk 評論數後與 toc 衝突的 bug #462</li><li>修復 jquery 在一些介面仍然載入問題</li><li>修復 medium zoom 報錯的 bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.4.1 (2020/12/15)</summary><div class="toggle-content"><h2 id="3-4-1-2020-12-15"><a href="#3-4-1-2020-12-15" class="headerlink" title="3.4.1 (2020&#x2F;12&#x2F;15)"></a>3.4.1 (2020&#x2F;12&#x2F;15)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復tabs 標簽外掛設為-1時，按鈕點擊沒反應的bugs</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.4.0 (2020/12/13)</summary><div class="toggle-content"><h2 id="3-4-0-2020-12-13"><a href="#3-4-0-2020-12-13" class="headerlink" title="3.4.0 (2020&#x2F;12&#x2F;13)"></a>3.4.0 (2020&#x2F;12&#x2F;13)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li>去除 jQuery</li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>可配置是否添加css前綴</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Add the vendor prefixes to ensure compatibility</span></span><br><span class="line"><span class="addition">+css_prefix: true</span></span><br></pre></td></tr></table></figure></li><li><p>點擊文字特效增加隨機配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ClickShowText:</span><br><span class="line">  enable: false</span><br><span class="line">  text:</span><br><span class="line">    - I</span><br><span class="line">    - LOVEeeeeeeeeeeeee</span><br><span class="line">    - YOU</span><br><span class="line">  fontSize: 15px</span><br><span class="line"><span class="addition">+  random: true</span></span><br><span class="line">  mobile: false</span><br></pre></td></tr></table></figure></li><li><p>右下角增加字體調整按鈕</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Change font size</span></span><br><span class="line"><span class="addition">+change_font_size: true</span></span><br></pre></td></tr></table></figure></li><li><p>增加twikoo 最新評論</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">newest_comments:</span><br><span class="line">  enable: true</span><br><span class="line">	....</span><br><span class="line"><span class="addition">+  twikoo: true</span></span><br></pre></td></tr></table></figure></li><li><p>增加twikoo評論數顯示</p></li><li><p>增加toc簡潔模式</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  number: true</span><br><span class="line"><span class="addition">+  style_simple: false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復子目錄下，配置justifiedGallery CDN（相對鏈接）後，連接會無法訪問的bugs</li><li>修復沒有滾動條時，右下角按鈕顯示問題 #439</li><li>修復 pangu 配置post 後，仍在全站生效的bugs</li><li>修復resize 時，toc 的位置問題</li></ol><h3 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h3><ol><li>最新評論頭像增加lazyload</li><li>最新評論優化，當沒有評論時顯示’沒有評論‘</li><li>toc點擊時改用document.getElementById獲取，預防有些字符導致無法跳轉 #426</li><li>若瀏覽器支持。scroll將採用原生瀏覽器支持的滾動方法</li><li>搜索優化</li><li>html格式優化</li><li>當屏幕沒有滾動條時，rightside會直接顯示</li><li>手機端toc邊距微調</li><li>fontawesome和google字體增加異步加載</li><li>夜間模式下，廣告降低亮度</li><li>當設置aside mobile為false時，toc仍然能顯示</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li>刪除ICP配置， 如需要，請使用custom_text配置</li><li>刪除不必要的語言文件</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.3.0 (2020/10/28)</summary><div class="toggle-content"><h2 id="3-3-0-2020-10-28"><a href="#3-3-0-2020-10-28" class="headerlink" title="3.3.0 (2020&#x2F;10&#x2F;28)"></a>3.3.0 (2020&#x2F;10&#x2F;28)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li>只支持 hexo 5.0.0 及以上版本</li><li>不再支持 butterfly.yml 寫法</li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>Valine 增加 option 設置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line"><span class="addition">+  option:</span></span><br></pre></td></tr></table></figure></li><li><p>toc改為aside顯示,去掉sidebar</p><ol><li><p>手機toc ui 修改</p></li><li><p>去掉 toc auto_open 配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  number: true</span><br><span class="line"><span class="deletion">-  auto_open: true # auto open the sidebar</span></span><br></pre></td></tr></table></figure></li><li><p>優化手機toc 的特效和按鈕出現的時機</p></li><li><p>aside狀態存<em>localStorage</em></p></li></ol></li><li><p>文章標題改為居中</p></li><li><p>aside 可配置隱藏&#x2F;增加按鈕可展開或收縮aside</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="addition">+  hide: false</span></span><br><span class="line"><span class="addition">+  button: true</span></span><br><span class="line">  mobile: true # display on mobile</span><br></pre></td></tr></table></figure></li><li><p>增加Twikoo評論</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+twikoo:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Improvements"><a href="#Improvements" class="headerlink" title="Improvements"></a>Improvements</h3><ol><li>完善note標籤在readmode上的顯示</li><li>精簡css 和 js</li><li>pjax 優化</li><li>文章頁標題改為h1(seo)</li><li>canonical 改為hexo提供的函數生成</li><li>ICP SEO優化 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly/pull/393">#393</a></li><li>調大sidebar的寬度</li><li>html結構調整，mobile-sidebar改為sidebar&#x2F;search調整</li><li>滾動到評論按鈕只要用評論的頁面就出現</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復網站壓縮後，mermaid 會無法生成顯示的Bugs</li><li>修復當文章頁top_img設為false時，閲讀模式下文章內容不顯示的bugs</li><li>修復valine背景圖片再次出現時，由左到右移動的bugs</li><li>修復disqusjs沒有設置api時，沒有反代的bugs</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li>刪除搜索不必要的配置</li><li>移除豆瓣配置,如需配置，請使用 hexo-butterfly-douban</li><li>刪除多餘的css和pug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.2.0 (2020/09/28)</summary><div class="toggle-content"><h2 id="3-2-0-2020-09-28"><a href="#3-2-0-2020-09-28" class="headerlink" title="3.2.0 (2020&#x2F;09&#x2F;28)"></a>3.2.0 (2020&#x2F;09&#x2F;28)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>更改canvas_ribbon_piao 為 canvas_fluttering_ribbon</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-canvas_ribbon_piao:</span></span><br><span class="line"><span class="addition">+canvas_fluttering_ribbon:</span></span><br><span class="line">  enable: false</span><br><span class="line">  mobile: false</span><br></pre></td></tr></table></figure></li><li><p>刪除特效js,改為cdn引入</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line">  # background effect</span><br><span class="line"><span class="deletion">-  canvas_ribbon: /js/third-party/canvas-ribbon.js</span></span><br><span class="line"><span class="deletion">-  canvas_ribbon_piao: /js/third-party/piao.js</span></span><br><span class="line"><span class="deletion">-  canvas_nest: /js/third-party/canvas-nest.js</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+  canvas_ribbon: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js</span></span><br><span class="line"><span class="addition">+  canvas_fluttering_ribbon: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js</span></span><br><span class="line"><span class="addition">+  canvas_nest: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js</span></span><br><span class="line"></span><br><span class="line">  # effect</span><br><span class="line"><span class="deletion">-  activate_power_mode: /js/third-party/activate-power-mode.js</span></span><br><span class="line"><span class="deletion">-  fireworks: /js/third-party/fireworks.js</span></span><br><span class="line"><span class="deletion">-  click_heart: /js/third-party/click_heart.js</span></span><br><span class="line"><span class="deletion">-  ClickShowText: /js/third-party/ClickShowText.js</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+  activate_power_mode: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js</span></span><br><span class="line"><span class="addition">+  fireworks: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js</span></span><br><span class="line"><span class="addition">+  click_heart: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js</span></span><br><span class="line"><span class="addition">+  ClickShowText: https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>可設置首頁文章不顯示內容&#x2F;description</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Display the article introduction on homepage</span><br><span class="line"># 1: description</span><br><span class="line"># 2: both (if the description exists, it will show description, or show the auto_excerpt)</span><br><span class="line"># 3: auto_excerpt (default)</span><br><span class="line"><span class="addition">+# false: do not show the article introduction</span></span><br><span class="line"><span class="comment">index_post_content:</span></span><br><span class="line">  method: 3</span><br><span class="line">  length: 500 # if you set method to 2 or 3, the length need to config</span><br></pre></td></tr></table></figure></li><li><p>主頁文章時間和文章頁文章時間可以配置顯示日期還是相對時間</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  page: # Home Page</span><br><span class="line"><span class="addition">+    date_format: relative # date/relative 顯示日期還是相對日期</span></span><br><span class="line">  post:</span><br><span class="line"><span class="addition">+    date_format: relative # date/relative 顯示日期還是相對日期</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>top_img 可配置 （留空（默認色）&#x2F;顏色（HEX值&#x2F;RGB值&#x2F;顔色單詞&#x2F;漸變色)&#x2F;圖片鏈接&#x2F; false（不顯示top_img））</p></li><li><p>footer可配置背景 [留空&#x2F;false(默認色)&#x2F;顏色（HEX值&#x2F;RGB值&#x2F;顔色單詞&#x2F;漸變色)&#x2F;圖片鏈接&#x2F;true(跟top_img一樣)]</p></li><li><p>網站背景可配置 （顏色（HEX值&#x2F;RGB值&#x2F;顔色單詞&#x2F;漸變色)&#x2F;漸變色&#x2F;圖片鏈接）</p></li><li><p>增加 tag_per_img 配置（可為各個tag 單獨配置top_img）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+tag_per_img:</span></span><br></pre></td></tr></table></figure></li><li><p>增加 category_per_img 配置（可為各個category單獨配置top_img）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+category_per_img:</span></span><br></pre></td></tr></table></figure></li><li><p>note 標籤優化(可自定義icon圖標&#x2F;可覆蓋配置中的style)</p></li><li><p>夜間模式下，背景顔色&#x2F;top-img&#x2F;footer-bg 設置為顔色時，不再強制顯示黑色，而是改為遮罩降低亮度</p></li><li><p>增加部分特效 Mobile設置（activate_power_mode&#x2F;fireworks&#x2F;click_heart&#x2F;ClickShowText)</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">activate_power_mode:</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+  mobile: false</span></span><br><span class="line"></span><br><span class="line">fireworks:</span><br><span class="line">   ...</span><br><span class="line"><span class="addition">+  mobile: true</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-click_heart: false</span></span><br><span class="line"><span class="addition">+click_heart:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  mobile: false</span></span><br><span class="line"></span><br><span class="line">ClickShowText:</span><br><span class="line">  enable: false</span><br><span class="line">  ...</span><br><span class="line"><span class="addition">+  mobile: false</span></span><br></pre></td></tr></table></figure></li><li><p>添加 artitalk 説説插件</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Artitalk</span></span><br><span class="line"><span class="addition">+# see https://artitalk.js.org/</span></span><br><span class="line"><span class="addition">+artitalk:</span></span><br><span class="line"><span class="addition">+  appId:</span></span><br><span class="line"><span class="addition">+  appKey:</span></span><br><span class="line"><span class="addition">+  option:</span></span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"><span class="addition">+  artitalk: https://cdn.jsdelivr.net/npm/artitalk</span></span><br></pre></td></tr></table></figure></li><li><p>網頁進入動畫效果可關閉</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Enter transitions (開啟網頁進入效果)</span></span><br><span class="line"><span class="addition">+enter_transitions: true</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Improvements"><a href="#Improvements" class="headerlink" title="Improvements"></a>Improvements</h3><ol><li>preloader 在 pjax 下 每個頁面都會加載</li><li>修改判斷，避免用户設置2個lightbox 而導致報錯（只能設置一個）</li><li>精確時間顯示 （剛剛&#x2F;幾分鐘前&#x2F;幾小時前&#x2F;幾天前&#x2F;幾個月前）</li><li>刪除不必要的語言文件和css</li><li>Open_Graph 改為 hexo 內置 生成</li><li>當隱藏部分沒配置時，左下角設置按鈕會消失 #353</li><li>aside 分類 收縮&#x2F;展開 增加slide效果</li><li>darkmode 字體顔色加深</li><li>優化nav的進入，應該修復一些用户在本地測試中無法顯示nav的bugs</li><li>最新評論 leancloud呼叫由js sdk 改為 rest api 呼叫。應用可以不與valine同一個</li><li>最新評論增加錯誤輸出</li><li>tags 設定彩色顯示後，字型大小將根據tag的文章數量而變化 close #365</li><li>調整tags頁和categories頁在寬度小於768時的字體大小</li><li>主題文件分類調正</li><li>當點擊評論框時，valine背景圖片隱藏</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復當hexo的_config沒有設置description時，會導致pjax在頁面與文章間切換會無效 #381</li><li>修復鼠標點擊文字特效，文字過長導致頁面有滾動條的bugs</li><li>修復本地搜索文章鏈接無法跳轉bugs</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li><p>移除anime js， 集成在fireworks的js裏</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  anime: https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>刪除不必要的語言檔案</p></li></ol><h3 id="chore"><a href="#chore" class="headerlink" title="chore"></a>chore</h3><ol><li>update hexo-renderer-stylus to 2.0.1</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.1.1 (2020/09/06)</summary><div class="toggle-content"><h2 id="3-1-1-2020-09-06"><a href="#3-1-1-2020-09-06" class="headerlink" title="3.1.1 (2020&#x2F;09&#x2F;06)"></a>3.1.1 (2020&#x2F;09&#x2F;06)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復關閉last push date 後， 報 ‘hour’ 找不到的bugs</li><li>修復開啟 prismjs 後， 在低版本的 safari 會出現 js 報錯的 Bugs</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.1.0 (2020/08/31)</summary><div class="toggle-content"><h2 id="3-1-0-2020-08-31"><a href="#3-1-0-2020-08-31" class="headerlink" title="3.1.0 (2020&#x2F;08&#x2F;31)"></a>3.1.0 (2020&#x2F;08&#x2F;31)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li>只支持 hexo 4.2.0 以上版本</li><li>butterfly.yml 採用deepMerge, 與_config文件進行合併而不是替換</li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>適配 hexo 5.0.0 的 prismjs, 代碼主題和各項功能</p></li><li><p>適配hexo 5.1.0 prismjs caption</p></li><li><p>可隱藏 Mobile sidebar 子菜單</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Hide the child menu items in mobile sidebar</span></span><br><span class="line"><span class="addition">+hide_sidebar_menu_child: false</span></span><br></pre></td></tr></table></figure></li><li><p>當寬度小於1024時，點擊toc滾動，增加滾動效果</p></li><li><p>可配置font-size&#x2F;更改配置中 code-font 為 code-font-family</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">font:</span><br><span class="line"><span class="addition">+  global-font-size:</span></span><br><span class="line"><span class="addition">+  code-font-size:</span></span><br><span class="line">   font-family:</span><br><span class="line"><span class="deletion">-   code-font:</span></span><br><span class="line"><span class="addition">+   code-font-family:</span></span><br></pre></td></tr></table></figure></li><li><p>部分css由’px’改為’em’，適應font-size值改變而改變</p></li><li><p>pjax增加exclude配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-pjax: false</span></span><br><span class="line"><span class="addition">+pjax:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  exclude:</span></span><br></pre></td></tr></table></figure></li><li><p>新增 cnzz_analytics</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># Analysis</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Baidu Analytics</span><br><span class="line"># https://tongji.baidu.com/web/welcome/login</span><br><span class="line">baidu_analytics:</span><br><span class="line"></span><br><span class="line"># Google Analytics</span><br><span class="line"># https://analytics.google.com/analytics/web/</span><br><span class="line">google_analytics:</span><br><span class="line"></span><br><span class="line"># Tencent Analytics</span><br><span class="line"># https://mta.qq.com/</span><br><span class="line">tencent_analytics: #500727214</span><br><span class="line"></span><br><span class="line"><span class="addition">+# CNZZ Analytics</span></span><br><span class="line"><span class="addition">+# https://www.umeng.com/</span></span><br><span class="line"><span class="addition">+cnzz_analytics:</span></span><br></pre></td></tr></table></figure></li><li><p>騰訊分析改為騰訊移動分析，並適配pjax</p></li><li><p>aside增加position sticky</p></li><li><p>更改addtoany item的寫法</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">addtoany:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="deletion">-  item:</span></span><br><span class="line"><span class="deletion">-    - facebook</span></span><br><span class="line"><span class="deletion">-    - twitter</span></span><br><span class="line"><span class="deletion">-    - wechat</span></span><br><span class="line"><span class="deletion">-    - sina_weibo</span></span><br><span class="line"><span class="deletion">-    - facebook_messenger</span></span><br><span class="line"><span class="deletion">-    - email</span></span><br><span class="line"><span class="deletion">-    - copy_link</span></span><br><span class="line"><span class="addition">+	item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span></span><br></pre></td></tr></table></figure></li><li><p>增加最後更新時間顯示&#x2F;增加post count 配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line"><span class="deletion">-  card_webinfo: true</span></span><br><span class="line"><span class="addition">+  card_webinfo:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    post_count: true</span></span><br><span class="line"><span class="addition">+    last_push_date: true</span></span><br></pre></td></tr></table></figure></li><li><p>增加 aside 最新評論部件</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+newest_comments:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  limit: 6</span></span><br><span class="line"><span class="addition">+  avatar: true</span></span><br><span class="line"><span class="addition">+  leancloud:</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line"><span class="addition">++    appId: # leancloud application app id</span></span><br><span class="line"><span class="addition">+    appKey: # leancloud application app key</span></span><br><span class="line"><span class="addition">+    serverURL: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line"><span class="addition">+    default_avatar: mp # mp/identicon/monsterid/wavatar/retro/robohash/blank</span></span><br><span class="line"><span class="addition">+  github_issues:</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line"><span class="addition">+    repo:</span></span><br><span class="line"><span class="addition">+  disqus:</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line"><span class="addition">+    forum:</span></span><br><span class="line"><span class="addition">+    api_key:</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Improvements"><a href="#Improvements" class="headerlink" title="Improvements"></a>Improvements</h3><ol><li>archives和card-post 改為flex佈局</li><li>點擊滾動，如果滾動是向上時，將會偏移60px， 避免導航欄遮擋 close #317</li><li>改cookies為<em>localStorage</em>存儲</li><li>設置中的theme_color可單獨配置幾個，而不需要全部開啟 close #314</li><li>調整webinfo 寬度小時的顯示</li><li>aside 內容邊距調整</li><li>Pjax下，刷新頁面時，會滾動到上次瀏覽的位置</li><li>修復mathjax溢出屏幕的Bugs # 321</li><li>部分css調整和html優化</li><li>刪除pwa中的theme-color配置，默認生成meta theme-color #340</li><li>補全card-categories和card-archives的 ‘查看更多‘鏈接 #337</li><li>代碼名字全大寫</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復canvas_nest 配置沒有生效的Bugs</li><li>修復rightsize-bottom配置無效的bug</li><li>修復夜間模式下代碼塊有背景的bugs（沒開啟渲染的情況下）</li><li>修復 prismjs 在 tags-toggle 外掛標簽裏，代碼塊顯示一行的bugs</li><li>修復當關閉代碼渲染後，標簽外掛裏的代碼塊會被壓縮到一行的bugs</li><li>修復在modern樣式下，note 標簽外掛沒有使用tags名時，沒有背景色和夜間模式文字顯示不清楚的bugs</li><li>修復主頁文章cover在深色模式下，邊角有小白邊的bugs #278</li><li>修復note標簽外掛下，代碼塊顯示背景色的bugs close #339</li><li>修復toc 滾動百分比不準的Bugs</li><li>修復comments沒設置時，報Unexpected token ‘)’的bugs #344</li><li>修復網站子目錄下，相關文章cover無法顯示的bugs #334</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li>去除字體放大、縮小按鈕</li><li>移除 代碼default主題</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.0.1 (2020/08/11)</summary><div class="toggle-content"><h2 id="3-0-1-2020-08-11"><a href="#3-0-1-2020-08-11" class="headerlink" title="3.0.1 (2020&#x2F;08&#x2F;11)"></a>3.0.1 (2020&#x2F;08&#x2F;11)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復導航側邊欄沒有進入特效的Bugs</li><li>修復Hexo 5.0.0 以下版本， toc遇到中文不會滾動的bugs</li><li>修復pjax下，同時開啟Open_Graph_meta和Livere，Livere評論後台顯示的來源頁面與實際不同 的bugs</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.0.0 (2020/08/05)</summary><div class="toggle-content"><h2 id="3-0-0-2020-08-05"><a href="#3-0-0-2020-08-05" class="headerlink" title="3.0.0 (2020&#x2F;08&#x2F;05)"></a>3.0.0 (2020&#x2F;08&#x2F;05)</h2><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復文章頁沒有lazyload的bugs</li><li>修復文章頁沒有lazyload的bugs</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.0.0-RC2 (2020/08/01)</summary><div class="toggle-content"><h2 id="3-0-0-RC2-2020-08-01"><a href="#3-0-0-RC2-2020-08-01" class="headerlink" title="3.0.0-RC2 (2020&#x2F;08&#x2F;01)"></a>3.0.0-RC2 (2020&#x2F;08&#x2F;01)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>支持雙評論系統配置&#x2F;評論配置整理&#x2F;評論增加lazyload</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+comments:</span></span><br><span class="line"><span class="addition">+  # Up to two comments system, the first will be shown as default</span></span><br><span class="line"><span class="addition">+  # Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Utterances/Facebook Comments</span></span><br><span class="line"><span class="addition">+  use:</span></span><br><span class="line"><span class="addition">+  # - Valine</span></span><br><span class="line"><span class="addition">+  # - Disqus</span></span><br><span class="line"><span class="addition">+  text: true # Display the comment name next to the button</span></span><br><span class="line"><span class="addition">+  # lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line"><span class="addition">+  # If you set it to false, the comment count will be invalid</span></span><br><span class="line"><span class="addition">+  lazyload: false</span></span><br><span class="line"><span class="addition">+  count: false # Display comment count in top_img</span></span><br><span class="line"></span><br><span class="line">disqus:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  count: false # dispaly comment count in top_img</span></span><br><span class="line"></span><br><span class="line">disqusjs:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  count: false # dispaly comment count in top_img</span></span><br><span class="line"></span><br><span class="line">livere:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"></span><br><span class="line">gitalk:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  count: false # dispaly comment count in top_img</span></span><br><span class="line"></span><br><span class="line">valine:</span><br><span class="line"><span class="deletion">-  enable: false # if you want use valine,please set this value is true</span></span><br><span class="line"><span class="deletion">-  count: false # dispaly comment count in top_img</span></span><br><span class="line"></span><br><span class="line">utterances:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"></span><br><span class="line">facebook_comments:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  count: false</span></span><br></pre></td></tr></table></figure></li><li><p>footer配置整理，修改部分用語 #279</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-since: 2020</span></span><br><span class="line"><span class="deletion">-footer_custom_text:</span></span><br><span class="line"><span class="deletion">-footer_copyright: true</span></span><br><span class="line"><span class="deletion">-ICP:</span></span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  url:</span></span><br><span class="line"><span class="deletion">-  text:</span></span><br><span class="line"><span class="deletion">-  icon: /img/icp.png</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+footer:</span></span><br><span class="line"><span class="addition">+  owner:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    since: 2020</span></span><br><span class="line"><span class="addition">+  custom_text: </span></span><br><span class="line"><span class="addition">+  copyright: true # Copyright of theme and framework</span></span><br><span class="line"><span class="addition">+  ICP: # Chinese ICP License</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line"><span class="addition">+    url:</span></span><br><span class="line"><span class="addition">+    text:</span></span><br><span class="line"><span class="addition">+    icon: /img/icp.png</span></span><br></pre></td></tr></table></figure></li><li><p>移除‘添加書籤’功能，可執行配置按鈕</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description:</span><br><span class="line"><span class="addition">+    button:</span></span><br><span class="line"><span class="addition">+      icon: fab fa-github</span></span><br><span class="line"><span class="addition">+      text: Follow Me</span></span><br><span class="line"><span class="addition">+      link: https://github.com/xxxxxx</span></span><br></pre></td></tr></table></figure></li><li><p>copy的copyright增加字數限制配置，可配置多少字以上才添加版權信息</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">copy:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="deletion">-  copyright: false</span></span><br><span class="line"><span class="addition">+  copyright:</span></span><br><span class="line"><span class="addition">+    enable: false</span></span><br><span class="line"><span class="addition">+    limit_count: 50</span></span><br></pre></td></tr></table></figure></li><li><p>aside recent post可設置按發表時間或者更新時間排序</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  card_recent_post:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 5 # if set 0 will show all</span><br><span class="line"><span class="addition">+    sort: date # date or updated</span></span><br></pre></td></tr></table></figure></li><li><p>更換typed.js&#x2F;meting CDN</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-typed: https://cdn.jsdelivr.net/npm/typed.js</span></span><br><span class="line"><span class="deletion">-meting_js: https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+typed: https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js</span></span><br><span class="line"><span class="addition">+meting_js: https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>增加文章過期提醒</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Displays outdated notice for a post (文章過期提醒)</span></span><br><span class="line"><span class="addition">+noticeOutdate:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  style: flat # style: simple/flat</span></span><br><span class="line"><span class="addition">+  limit_day: 500 # When will it be shown</span></span><br><span class="line"><span class="addition">+  position: top # position: top/bottom</span></span><br><span class="line"><span class="addition">+  message_prev: It has been</span></span><br><span class="line"><span class="addition">+  message_next: days since the last update, the content of the article may be outdated.</span></span><br></pre></td></tr></table></figure></li><li><p>增加mac light 代碼框配色</p></li><li><p>文章copyright 可單獨配置</p></li><li><p>card-category 中category名稱和數字限制一行顯示</p></li><li><p>簡繁轉換優化，placeholder也會被轉換</p></li><li><p>引入css變數，減少css體積</p></li><li><p>新增 Pjax #234</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Pjax [Beta]</span></span><br><span class="line"><span class="addition">+# It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="addition">+# https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="addition">+pjax: false</span></span><br></pre></td></tr></table></figure></li><li><p>添加第三方chat服務 crisp</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# crisp</span></span><br><span class="line"><span class="addition">+# https://crisp.chat/en/</span></span><br><span class="line"><span class="addition">+crisp:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  website_id:</span></span><br></pre></td></tr></table></figure></li><li><p>谷歌廣告增加自動廣告配置，減少不必要的js加載</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">google_adsense:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="addition">+  auto_ads: true</span></span><br><span class="line">  js: https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span><br><span class="line">  client:</span><br><span class="line">  enable_page_level_ads: true</span><br></pre></td></tr></table></figure></li><li><p>當post_asset_folder為true時，post的top_img和cover可直接引用同名文件夾下的圖片，只需要寫圖片名字和後綴就行 #270</p></li><li><p>增加Yandex Webmaster tools verification配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Yandex Webmaster tools verification setting</span></span><br><span class="line"><span class="addition">+# see https://webmaster.yandex.com/</span></span><br><span class="line"><span class="addition">+yandex_site_verification:</span></span><br></pre></td></tr></table></figure></li><li><p>post-meta可以配置是否顯示文字</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line">  page: # Home Page</span><br><span class="line">    date_type: created # created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span><br><span class="line">    categories: true # true or false 主頁是否顯示分類</span><br><span class="line">    tags: false # true or false 主頁是否顯示標籤</span><br><span class="line"><span class="addition">+    label: true # true or false 顯示描述性文字</span></span><br><span class="line">  post:</span><br><span class="line">    date_type: both # created or updated or both 文章頁日期是創建日或者更新日或都顯示</span><br><span class="line">    categories: true # true or false 文章頁是否顯示分類</span><br><span class="line">    tags: true # true or false 文章頁是否顯示標籤</span><br><span class="line"><span class="addition">+    label: true # true or false 顯示描述性文字</span></span><br></pre></td></tr></table></figure></li><li><p>手機端post-meta調整顯示&#x2F;支持顯示分類</p></li><li><p>代碼框滾動條顔色隨代碼主題變化</p></li><li><p>頭像&#x2F;打賞圖片 增加lazyload</p></li><li><p>提升highlight-tool的加載速度</p></li><li><p>disqus&#x2F;disqusjs&#x2F;facebook comments 可隨夜間模式按鈕切換而轉換主題</p></li><li><p>mathjax升級到3 #216</p></li><li><p>pangu.js 只會渲染 body-wrap 區域</p></li><li><p>放大字體和縮小字體 限制在 10px~20px</p></li><li><p>更新谷歌分析代碼（gtag）</p></li><li><p>移除blueimp_md5 js</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-blueimp_md5: https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>夜間模式和閲讀模式微調</p></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復右下角按鈕被button標籤外掛遮擋的bugs</li><li>修復開啟photofigcaption後，圖庫會出現界面錯亂的Bugs</li><li>修復tabs外掛標簽與aplayer插件衝突而異常的bugs</li><li>aplayer的間距調整</li><li>修復文章front-matter的highlight_shrink和toc為空時，會出現js報錯的bugs</li><li>修復BUTTON標籤嵌套使用在其他標籤時，生成多了br標籤而導致樣式不同的bugs</li><li>修復部分設備遇到mobile-sidebar無法滾動的bugs</li><li>修復文章頁部分元素內文字溢出的Bugs</li><li>調整當card-category有收縮按鈕時的顯示佈局</li><li>修復配置PWA參數時，如果網站是子目錄時，會出現加載不到文件的bugs</li><li>修復hexo douban插件 點擊上&#x2F;下一頁出現圖片變為null的bugs</li><li>適配hexo 5.0.0 修復toc點擊不會跳轉的bugs</li><li>適配hexo 5.0.0 修復toc不會隨著文章而滾動的bugs</li><li>修復Valine 的requiredFields設置為空 無效的bugs</li><li>調整手機界面下ol ul li的邊距 #267</li><li>修復facebook comments 在手機下寬度不是100%的bugs</li><li>修復share.js 分享的文章圖片都顯示同一張的bugs</li><li>去除note標籤外掛設為modern時，a標籤的下劃線</li><li>修正一些不正確的html結構</li><li>修復fancybox的alt會顯示undefined的bugs</li><li>修復footer藍色背景下，icp 文字hover 文字變藍看不清的Bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">3.0.0-RC1 (2020/06/16)</summary><div class="toggle-content"><h2 id="3-0-0-RC1-2020-06-16"><a href="#3-0-0-RC1-2020-06-16" class="headerlink" title="3.0.0-RC1 (2020&#x2F;06&#x2F;16)"></a>3.0.0-RC1 (2020&#x2F;06&#x2F;16)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>從3.0開始，不再對IE瀏覽器進行適配</p></li><li><p>強制使用fontawesome v5（會對一些自定義icon產生影響，請替換為V5圖標）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# fontawesome圖標</span></span><br><span class="line"><span class="deletion">-# 默認使用的是 fontawesome v4版本的圖標</span></span><br><span class="line"><span class="deletion">-fontawesome_v5:</span></span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  # fontawesome</span></span><br><span class="line"><span class="deletion">-  fontawesome_v4: https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css</span></span><br><span class="line"><span class="deletion">-  fontawesome_v5: https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css</span></span><br><span class="line"><span class="addition">+	fontawesome: https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css</span></span><br></pre></td></tr></table></figure></li><li><p>_config.yml 內容修改</p><ol><li><p>精簡baidu_push&#x2F;instantpage&#x2F;click_heart&#x2F;readmode&#x2F;footer_copyright&#x2F;medium_zoom&#x2F;fancybox配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-baidu_push:</span></span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-instantpage:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-click_heart:</span></span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-readmode:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-footer_copyright:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-medium_zoom:</span></span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-fancybox:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+baidu_push: false</span></span><br><span class="line"><span class="addition">+instantpage: true</span></span><br><span class="line"><span class="addition">+click_heart: false</span></span><br><span class="line"><span class="addition">+readmode: true</span></span><br><span class="line"><span class="addition">+footer_copyright: true</span></span><br><span class="line"><span class="addition">+medium_zoom: false</span></span><br><span class="line"><span class="addition">+fancybox: true</span></span><br></pre></td></tr></table></figure></li><li><p>修改runtimeshow 的start_date 為publish_date</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">runtimeshow:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="deletion">-  start_date: 6/7/2018 00:00:00</span></span><br><span class="line"><span class="addition">+  publish_date: 6/7/2018 00:00:00</span></span><br></pre></td></tr></table></figure></li><li><p>laibili 改名為 LiveRe</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-laibili:</span></span><br><span class="line"><span class="addition">+livere:</span></span><br><span class="line">  enable: false</span><br><span class="line">  uid:</span><br></pre></td></tr></table></figure></li><li><p>改hr為hr_icon 可設置取消icon</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 水平分隔綫</span><br><span class="line"><span class="deletion">-hr:</span></span><br><span class="line"><span class="addition">+hr_icon:</span></span><br><span class="line">  enable: true</span><br><span class="line">  icon: #fontawesome上圖標的Unicode</span><br><span class="line">  icon-top:</span><br></pre></td></tr></table></figure></li><li><p>更改loading_bg為error_img，post-loading移到lazyload去</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-lodding_bg:</span></span><br><span class="line"><span class="addition">+error_img:</span></span><br><span class="line">  flink: /img/friend_404.gif #404後圖片</span><br><span class="line">  post_page: /img/404.jpg #404後圖片</span><br><span class="line"><span class="deletion">-  post: /img/loading.gif #加載動畫</span></span><br><span class="line"></span><br><span class="line">lazyload:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="addition">+  post: /img/loading.gif #加載動畫</span></span><br></pre></td></tr></table></figure></li><li><p>pangu 的field配置只能配置site&#x2F;post</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pangu:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="deletion">-  field: page # page/post</span></span><br><span class="line"><span class="addition">+  field: site # site/post</span></span><br></pre></td></tr></table></figure></li><li><p>整合auto_open_sidebar到toc去</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  number: true</span><br><span class="line"><span class="addition">+  auto_open: true # auto open the sidebar</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# auto open the sidebar in &#x27;post&#x27;</span></span><br><span class="line"><span class="deletion">-auto_open_sidebar:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br></pre></td></tr></table></figure></li><li><p>font去除enable配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 全局字體</span><br><span class="line">font:</span><br><span class="line"><span class="deletion">-  enable: false</span></span><br><span class="line"><span class="deletion">-  font-family: Lato, Helvetica Neue For Number, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, PingFang SC, Hiragino Sans GB, MicrMicrosoft YaHei&quot;, Helvetica Neue, Helvetica, Arial, sans-serif</span></span><br><span class="line"><span class="deletion">-  code-font: consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace, Helvetica Neue For Number</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+  font-family:</span></span><br><span class="line"><span class="addition">+  code-font:</span></span><br></pre></td></tr></table></figure></li><li><p>刪除部分配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line"><span class="deletion">-  notify: false # valine mail notify (true/false) Deprecated in v1.4.0+</span></span><br><span class="line"><span class="deletion">-  verify: false # valine verify code (true/false) Deprecated in v1.4.0+</span></span><br><span class="line"></span><br><span class="line">translate:</span><br><span class="line"><span class="deletion">-  #博客網址</span></span><br><span class="line"><span class="deletion">-  cookieDomain: &#x27;https://xxx/&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>刪除twitter_meta配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# twitter分享自動帶上樣式</span></span><br><span class="line"><span class="deletion">-# -https://i.loli.net/2019/09/08/qm3RfvUCKbct1Wz.png</span></span><br><span class="line"><span class="deletion">-twitter_meta: true</span></span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>table寬度佔滿顯示</p></li><li><p>增加系統Darkmode切換監控，當系統切換Darkmode時，主題會立刻切換</p></li><li><p>card_description 支持html書寫</p></li><li><p>Dark Mode和Light Mode 切換按鈕icon更換</p></li><li><p>適配hexo自帶標簽 Pullquote</p></li><li><p>百度推送鏈接增加dns-prefetch</p></li><li><p>canonical 設為默認生成 不再提供配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# 避免重複網址分散seo</span></span><br><span class="line"><span class="deletion">-canonical: true</span></span><br></pre></td></tr></table></figure></li><li><p>instantpage js 加載增加defer</p></li><li><p>fireworks 增加z-index配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fireworks:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="addition">+  zIndex: 9999 # -1 or 9999</span></span><br></pre></td></tr></table></figure></li><li><p>新的Tag Plugins - button</p></li><li><p>新的Tag Plugins - tabs</p></li><li><p>可配置justifiedGallery CDN</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="addition">+  # justifiedGallery</span></span><br><span class="line"><span class="addition">+  justifiedGallery_js: https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js</span></span><br><span class="line"><span class="addition">+  justifiedGallery_css: https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css</span></span><br></pre></td></tr></table></figure></li><li><p>新設計404頁面</p></li><li><p>aplayer js &#x2F;css 可配置，在文章front-matter中設置aplayer. 防止aplayer在每個頁面都插入代碼</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="addition">+  # aplayer</span></span><br><span class="line"><span class="addition">+  aplayer_css: https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css</span></span><br><span class="line"><span class="addition">+  aplayer_js: https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js</span></span><br><span class="line"><span class="addition">+  meting_js: https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>增加在綫聊天 Chat Services (chatra&#x2F;tidio&#x2F;daovoice&#x2F;gitter), 可配置主題chat按鈕替換原在綫聊天按鈕</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Chat Button [recommend]</span></span><br><span class="line"><span class="addition">+# It will create a button in the bottom right corner of website, and hide the origin button</span></span><br><span class="line"><span class="addition">+chat_btn: false</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down</span></span><br><span class="line"><span class="addition">+chat_hide_show: false</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# chatra</span></span><br><span class="line"><span class="addition">+# https://chatra.io/</span></span><br><span class="line"><span class="addition">+chatra:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  id:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# tidio</span></span><br><span class="line"><span class="addition">+# https://www.tidio.com/</span></span><br><span class="line"><span class="addition">+tidio:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  public_key:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# daovoice</span></span><br><span class="line"><span class="addition">+# http://daovoice.io/</span></span><br><span class="line"><span class="addition">+daovoice:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  app_id:</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# gitter</span></span><br><span class="line"><span class="addition">+# https://gitter.im/</span></span><br><span class="line"><span class="addition">+gitter:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  room:</span></span><br></pre></td></tr></table></figure></li><li><p>可配置rightside按鈕與底部的距</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# 右下角按鈕距離底部的距離(默認單位為px)</span></span><br><span class="line"><span class="addition">+rightside-bottom:</span></span><br></pre></td></tr></table></figure></li><li><p>更換lazyload服務商</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-	lazyload: https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js</span></span><br><span class="line"><span class="addition">+	lazyload: https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>card-categories增加收縮&#x2F;展開按鈕</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  card_categories:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line"><span class="addition">+    expand: none # none/true/false</span></span><br></pre></td></tr></table></figure></li><li><p>更改auto_excerpt為index_post_content，並擁有三種方法可選</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# 自動節選</span></span><br><span class="line"><span class="deletion">-auto_excerpt:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"><span class="deletion">-  length: 150</span></span><br><span class="line"> </span><br><span class="line"><span class="addition">+# Display the article introduction on homepage</span></span><br><span class="line"><span class="addition">+# 1: description</span></span><br><span class="line"><span class="addition">+# 2: both (if the description exists, it will show description. or show the auto_excerpt)</span></span><br><span class="line"><span class="addition">+# 3: auto_excerpt (default)</span></span><br><span class="line"><span class="addition">+index_post_content:</span></span><br><span class="line"><span class="addition">+  method: 3</span></span><br><span class="line"><span class="addition">+  length: 500 # if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure></li><li><p>可在post裏單獨設置 auto_open: false關掉sidebar自動打開 #232</p></li><li><p>友情鏈接界面代碼優化&#x2F;增加分類描述&#x2F;分類名字和描述可以不寫&#x2F;友情鏈接yml寫法更改（舊的寫法依舊有效，沒影響）</p></li><li><p>文章&#x2F;頁面font-matter 可設置highlight_shrink (true or false)</p></li><li><p>代碼框優化</p><ol><li>調整部分代碼顔色</li><li>增加一款代碼主題 mac</li><li>代碼框主題支持自定義</li></ol></li><li><p>閲讀模式下去掉代碼高亮</p></li><li><p>disqusjs更新js&#x2F;css版本，增加nocomment配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">disqusjs:</span><br><span class="line">  enable: false</span><br><span class="line">  shortname:</span><br><span class="line">  siteName:</span><br><span class="line">  apikey:</span><br><span class="line"><span class="deletion">-  api: https://disqus.skk.moe/disqus/ #一般情況下無需修改 API 地址</span></span><br><span class="line"><span class="addition">+  api:</span></span><br><span class="line"><span class="addition">+  nocomment: # display when a blog post or an article has no comment attached</span></span><br><span class="line">  admin:</span><br><span class="line">  adminLabel:</span><br><span class="line">  count: false # dispaly comment count in top_img</span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  disqusjs: https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqus.js</span></span><br><span class="line"><span class="deletion">-  disqusjs_css: https://cdn.jsdelivr.net/npm/disqusjs@1.2/dist/disqusjs.css</span></span><br><span class="line"><span class="addition">+  disqusjs: https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqus.js</span></span><br><span class="line"><span class="addition">+  disqusjs_css: https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqusjs.css</span></span><br></pre></td></tr></table></figure></li><li><p>打賞增加鏈接配置 &#x2F;打賞寫法更改（舊寫法依然有用）#240</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 打賞按鈕</span><br><span class="line">reward:</span><br><span class="line">  enable: true</span><br><span class="line">  QR_code:</span><br><span class="line"><span class="deletion">-    - itemlist:</span></span><br><span class="line"><span class="deletion">-        img: /img/wechat.jpg</span></span><br><span class="line"><span class="deletion">-        text: 微信</span></span><br><span class="line"><span class="deletion">-    - itemlist:</span></span><br><span class="line"><span class="deletion">-        img: /img/alipay.jpg</span></span><br><span class="line"><span class="deletion">-        text: 支付寶</span></span><br><span class="line"><span class="addition">+    - img: /img/wechat.jpg</span></span><br><span class="line"><span class="addition">+      link:</span></span><br><span class="line"><span class="addition">+      text: 微信</span></span><br><span class="line"><span class="addition">+    - img: /img/alipay.jpg</span></span><br><span class="line"><span class="addition">+      link:</span></span><br><span class="line"><span class="addition">+      text: 支付寶</span></span><br></pre></td></tr></table></figure></li><li><p>移除JS-COOKIES</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CDN:</span><br><span class="line"><span class="deletion">-  js_cookies: https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js</span></span><br></pre></td></tr></table></figure></li><li><p>可為文章配置是否顯示TOC,即使配置中已把toc設為false</p></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修正側邊欄目錄收縮、展開圖標不對齊的bugs</li><li>修改部分用語(zh-CN&#x2F;zh-TW&#x2F;en)</li><li>修復card-categories和card-archives 邊緣點擊沒有跳轉的bugs</li><li>修復網站是子目錄時，社交網站為相對地址時，地址生成錯誤的bugs</li><li>修復最後一篇文章的Pagination沒有佔據全寬度的Bug</li><li>修復推薦文章佈局在microsoft edge(舊版)顯示的Bug</li><li>修復閲讀模式下 黑色代碼框下字體顯示不清楚 #223</li><li>修復當blog_title_font不是設置google字體時，加載了preconnect &#x2F;&#x2F;fonts.googleapis.com 的bugs</li><li>修復設置copy為false時，會導致代碼複製也無法複製的bugs</li><li>閲讀模式調整</li><li>修復部分壓縮軟件壓縮html報錯的bugs</li></ol></div></details><details class="toggle"><summary class="toggle-button">2.3.5(2020/05/01)</summary><div class="toggle-content"><h2 id="2-3-5-2020-05-01"><a href="#2-3-5-2020-05-01" class="headerlink" title="2.3.5 (2020&#x2F;05&#x2F;01)"></a>2.3.5 (2020&#x2F;05&#x2F;01)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li><p>beautify 可配置生效於全站還是post頁 #218</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">beautify:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="addition">+  field: post # site/post</span></span><br><span class="line">  title-prefix-icon: &#x27;\f0c1&#x27;</span><br><span class="line">  title-prefix-icon-color: &#x27;#F47466&#x27;</span><br></pre></td></tr></table></figure></li><li><p>更換lazyload js</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-lazyload:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+lazyload: true</span></span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"></span><br><span class="line"><span class="deletion">-  lazyload: https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js</span></span><br><span class="line"><span class="addition">+  lazyload: https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>增加文章anchor配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ # anchor</span></span><br><span class="line"><span class="addition">+ # when you scroll in post , the url will update according to header id.</span></span><br><span class="line"><span class="addition">+ anchor: false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>修復當menu沒設置圖標時，會報Cannot read property ‘trim’ of undefined 的bug</li><li>修復meta description 自動生成文章前200文字時部分沒有轉義的bug</li><li>修復開啟lazyload後，使用 無法顯示照片的bug</li><li>修復tags頁標籤只顯示8個的bug</li><li>修復當博客root不是’&#x2F;‘時,引用本地圖片會顯示不出的bug</li><li>修復替換url hash 導致頁面跳動的bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">2.3.0(2020/04/26)</summary><div class="toggle-content"><h2 id="2-3-0-2020-04-26"><a href="#2-3-0-2020-04-26" class="headerlink" title="2.3.0(2020&#x2F;04&#x2F;26)"></a>2.3.0(2020&#x2F;04&#x2F;26)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>增加Facebook Comments</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# Facebook Comments Plugin</span></span><br><span class="line"><span class="addition">+# https://developers.facebook.com/docs/plugins/comments/</span></span><br><span class="line"><span class="addition">+facebook_comments:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"><span class="addition">+  app_id:</span></span><br><span class="line"><span class="addition">+  user_id: # optional</span></span><br><span class="line"><span class="addition">+  pageSize: 10 # The number of comments to show</span></span><br><span class="line"><span class="addition">+  order_by: social # social/time/reverse_time</span></span><br><span class="line"><span class="addition">+  lang: en_US # Language en_US/zh_CN/zh_TW and so on</span></span><br><span class="line"><span class="addition">+  count: false</span></span><br></pre></td></tr></table></figure></li><li><p>增加頁面加載動畫Preloader #193</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# 加載動畫 Loading Animation</span></span><br><span class="line"><span class="addition">+preloader: false</span></span><br></pre></td></tr></table></figure></li><li><p>aside card-tags可配置是否顯示顏色&#x2F;aside subtitle可配置，優先顯示配置內容、沒有的顯示頁面subtitle #191 &#x2F;aside widget 增加部分參數可配置&#x2F;aside widget的Categories，Tags，post,Archives可配置limit&#x2F;整合公告欄配置到aside去</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  mobile: true # 手機頁面( 顯示寬度 &lt; 768px )是否顯示aside內容</span><br><span class="line">  position: right # left or right</span><br><span class="line"><span class="deletion">-  card_author: true</span></span><br><span class="line"><span class="deletion">-  card_announcement: true</span></span><br><span class="line"><span class="deletion">-  card_recent_post: true</span></span><br><span class="line"><span class="deletion">-  card_categories: true</span></span><br><span class="line"><span class="deletion">-  card_tags: true</span></span><br><span class="line"><span class="deletion">-  card_archives: true</span></span><br><span class="line"><span class="addition">+  card_author:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    description:</span></span><br><span class="line"><span class="addition">+  card_announcement:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    content: This is my Blog</span></span><br><span class="line"><span class="addition">+  card_recent_post:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    limit: 5 # if set 0 will show all</span></span><br><span class="line"><span class="addition">+  card_categories:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    limit: 8 # if set 0 will show all</span></span><br><span class="line"><span class="addition">+  card_tags:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    limit: 40 # if set 0 will show all</span></span><br><span class="line"><span class="addition">+    color: false</span></span><br><span class="line"><span class="addition">+  card_archives:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line"><span class="addition">+    type: monthly # yearly or monthly</span></span><br><span class="line"><span class="addition">+    format: MMMM YYYY # eg: YYYY年MM月</span></span><br><span class="line"><span class="addition">+    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line"><span class="addition">+    limit: 8 # if set 0 will show all</span></span><br><span class="line">  card_webinfo: true</span><br><span class="line">  </span><br><span class="line"><span class="deletion">-# 網站公告</span></span><br><span class="line"><span class="deletion">-announcement:</span></span><br><span class="line"><span class="deletion">-  content: 感謝訪問本站，若喜歡請收藏 ^_^</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>改CDN_USE為inject,可插入代碼到head或者bottom</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# CDN</span></span><br><span class="line"><span class="deletion">-# 網站必須</span></span><br><span class="line"><span class="deletion">-# 可根據需要自行添加js/css</span></span><br><span class="line"><span class="deletion">-CDN_USE:</span></span><br><span class="line"><span class="deletion">-  css:</span></span><br><span class="line"><span class="deletion">-    - /css/index.css</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-  js:</span></span><br><span class="line"><span class="deletion">-    - https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js #/js/third-party/jquery.min.js</span></span><br><span class="line"><span class="deletion">-    - /js/utils.js</span></span><br><span class="line"><span class="deletion">-    - /js/main.js</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+# inject</span></span><br><span class="line"><span class="addition">+# 插入代碼到頭部&lt;/head&gt;之前 和 尾部&lt;/body&gt;之前</span></span><br><span class="line"><span class="addition">+inject:</span></span><br><span class="line"><span class="addition">+  head:</span></span><br><span class="line"><span class="addition">+  	# - &lt;link rel=&quot;stylesheet&quot; href=&quot;xxxxx&quot;&gt;</span></span><br><span class="line"><span class="addition">+  bottom:</span></span><br><span class="line"><span class="addition">+  	# - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"></span><br><span class="line"># CDN</span><br><span class="line"># 非必要不要修改</span><br><span class="line">CDN:</span><br><span class="line"><span class="addition">+  # main</span></span><br><span class="line"><span class="addition">+  main_css: /css/index.css</span></span><br><span class="line"><span class="addition">+  jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span></span><br><span class="line"><span class="addition">+  main: /js/main.js</span></span><br><span class="line"><span class="addition">+  utils: /js/utils.js</span></span><br></pre></td></tr></table></figure></li><li><p>適配valine 1.4.5以上版本</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">  enable: false # if you want use valine,please set this value is true</span><br><span class="line">  appId: # leancloud application app id</span><br><span class="line">  appKey: # leancloud application app key</span><br><span class="line">  notify: false # valine mail notify (true/false) Deprecated in v1.4.0+</span><br><span class="line">  verify: false # valine verify code (true/false) Deprecated in v1.4.0+</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https://valine.js.org/#/avatar</span><br><span class="line">  lang: en # i18n: zh-CN/zh-TW/en/ja</span><br><span class="line">  placeholder: Please leave your footprints # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">  guest_info: nick,mail,link #valine comment header info</span><br><span class="line">  recordIP: false # Record reviewer IP</span><br><span class="line">  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line"><span class="addition">+  emojiCDN: # emoji CDN</span></span><br><span class="line"><span class="addition">+  enableQQ: false # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span></span><br><span class="line"><span class="addition">+  requiredFields: nick,mail # required fields nick/mail/link</span></span><br><span class="line">  bg: /img/comment_bg.png # valine background</span><br><span class="line">  count: false # dispaly comment count in top_img</span><br></pre></td></tr></table></figure></li><li><p>移除對文章隱藏的支持</p></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>增加標籤外掛 tag-toggle</li><li>適配hexo-generator-indexed插件</li><li>Dark mode和Read mode配色微調</li><li>增加頁面keywords設置 #191</li><li>algolia-search highlight文字加深</li><li>調整子目錄的排版(向左對齊)</li><li>調整aside和mobile sidebar 網頁資訊佈局，當缺少一個時，寬度依舊平分</li><li>sidebar menu 增加頭像轉圈hover</li><li>當沒有設置Description時，會自動讀取文章前200個文字作為meta Description</li><li>meta增加article:published_time和article:modified_time</li><li>subtitle修改為網頁加載完後再加載，防止API迴應過慢而阻礙網頁顯示</li><li>移除subtitle金山詞霸每日一句，增加搏天API的隨機語錄</li><li>本地搜索支持顯示文章內容和高亮keyword</li><li>Read mode下可以切換Dark mode和Light mode</li><li>高分辨率下的界面適配 #163</li><li>修復Dark Mode下，note標籤的顯示bug</li><li>添加 dns_prefetch</li></ol><h3 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h3><ol><li>修復 articleSort 設置文章封面邏輯不一致的問題 #194</li><li>修正zh-TW部分用語</li><li>修復hide-block 配置顏色顯示出錯的bug</li><li>修復只能點擊子目錄文字才能跳轉的bug</li><li>修復搜索結果在手機端無法滾動的bug</li><li>修復aside categories 查看更多跳轉到tags頁面的bug #188</li><li>修復當flink.yml內容為空時，報錯的bug</li><li>修復Dark mode下 aside 查看更多文字顏色太淺的bug</li><li>修復POST-META關閉閲讀分鐘和訪問量後,評論量前有分割線的bug</li><li>修復canvas_ribbon透明度變為1再變回預設值bug</li><li>修復當default_cover沒設置時，會出現無圖片的bug</li><li>修復文章頁替換url hash值而導致歷史記錄過多的問題</li><li>修復DarkMode下，note標籤的顯示bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">2.2.5(2020/03/28)</summary><div class="toggle-content"><h2 id="2-2-5-2020-03-28"><a href="#2-2-5-2020-03-28" class="headerlink" title="2.2.5(2020&#x2F;03&#x2F;28)"></a>2.2.5(2020&#x2F;03&#x2F;28)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>增加自動廣告位置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ad:</span></span><br><span class="line"><span class="addition">+ index:</span></span><br><span class="line"><span class="addition">+ aside:</span></span><br><span class="line"><span class="addition">+ post:</span></span><br></pre></td></tr></table></figure></li><li><p>增加圖片Figcaption顯示</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ photofigcaption: false</span></span><br></pre></td></tr></table></figure></li><li><p>增加全站總字數顯示，可配置是否關閉wordcout閲讀時間&#x2F;字數統計&#x2F;全站總字數</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wordcount:</span><br><span class="line">  enable: false</span><br><span class="line"><span class="addition">+  post_wordcount: true</span></span><br><span class="line"><span class="addition">+  min2read: true</span></span><br><span class="line"><span class="addition">+  total_wordcount: true</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>文章頁上滑出現的頂欄顯示目錄</li><li>全站post-meta增加提示文本(Tooltip Text)</li><li>調整文章頁post-meta和主頁post-meta的間距</li><li>文章頁，當設置只顯示一個日期時，增加文字顯示</li></ol><h3 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h3><ol><li>修復lazyload中，img標籤的class在src後面時，導致替換出錯的bug</li><li>修復複製版權信息url為undefined的bug</li><li>修復aside 的 “查看更多” 不居中的bug</li><li>修復highlight_shrink設為false時,js報錯的bug</li><li>修復highlight_shrink設為true,點擊無反應，沒有打開代碼框的bug</li><li>Darkmode下，出現切換按鈕icon沒有改變的bug</li><li>修復簡繁轉換無效的bug</li><li>修復首頁文章日期顯示錯誤的bug</li><li>修復因註釋掉豆瓣設置導致報Cannot read property ‘meta’ of undefined的bug</li><li>修復Gitalk報Error: Cannot read property ‘repository’ of undefined 的bug</li><li>修復評論utterances 在display_mode設置為dark時，仍顯示light主題的bug</li><li>修復display_mode設置dark沒有效果的bug</li><li>評論增加夜間模式、文章頁判斷,減少不必要的js加載</li></ol></div></details><details class="toggle"><summary class="toggle-button">2.2.0 (2020/03/17)</summary><div class="toggle-content"><h2 id="2-2-0-2020-03-17"><a href="#2-2-0-2020-03-17" class="headerlink" title="2.2.0 (2020&#x2F;03&#x2F;17)"></a>2.2.0 (2020&#x2F;03&#x2F;17)</h2><h3 id="Breaking-Change"><a href="#Breaking-Change" class="headerlink" title="Breaking Change"></a>Breaking Change</h3><ol><li><p>不再支持hexo 4.0.0以下版本</p></li><li><p>添加hexo fragment_cache,加快生成速度</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ fragment_cache: true</span></span><br></pre></td></tr></table></figure></li><li><p>完善V5圖標顯示，不再需要同時加載V4和v5圖標</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ fontawesome_v5:</span></span><br><span class="line"><span class="addition">+  enable: false</span></span><br><span class="line"></span><br><span class="line">CDN_USE:</span><br><span class="line">  css:</span><br><span class="line">    - /css/index.css</span><br><span class="line"><span class="deletion">-   - https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css</span></span><br><span class="line"><span class="deletion">-   - https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css #fontawesomeV5_css</span></span><br><span class="line"></span><br><span class="line">CDN:</span><br><span class="line"><span class="addition">+  # fontawesome</span></span><br><span class="line"><span class="addition">+  fontawesome_v4: https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css</span></span><br><span class="line"><span class="addition">+  fontawesome_v5: https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css</span></span><br></pre></td></tr></table></figure></li><li><p>去除cheerio依賴</p></li><li><p>整合豆瓣配置，增加配置遊戲，圖書頁面top_img,可設置是否設置meta,解決部分瀏覽器無法顯示圖片問題</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- # 如果你有使用hexo-douban去生成movie界面，可配置這個</span></span><br><span class="line"><span class="deletion">- movies_img: https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/movie.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ douban:</span></span><br><span class="line"><span class="addition">+   meta: false</span></span><br><span class="line"><span class="addition">+   movies_img:</span></span><br><span class="line"><span class="addition">+   books_img:</span></span><br><span class="line"><span class="addition">+   games_img:</span></span><br></pre></td></tr></table></figure></li><li><p>友情鏈接除列表外可自定義內容</p></li><li><p>可設置主頁標題距離頂部距離</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 主頁設置</span><br><span class="line"># 默認top_img全屏，site_info在中間</span><br><span class="line"># 使用默認, 都無需填寫(建議默認)</span><br><span class="line"><span class="addition">+index_site_info_top: # 主頁標題距離頂部距離  例如 300px/300em/300rem/10%</span></span><br><span class="line"><span class="comment">index_top_img_height: # 主頁top_img高度 例如 300px/300em/300rem  不能使用百分比</span></span><br></pre></td></tr></table></figure></li><li><p>側邊欄可隱藏,可設置手機頁面是否隱藏</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-aside_mobile: true</span></span><br><span class="line"></span><br><span class="line">aside:</span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  mobile: true # 手機頁面( 顯示寬度 &lt; 768px )是否顯示aside內容</span></span><br><span class="line">  position: right # left or right</span><br><span class="line">  card_author: true</span><br></pre></td></tr></table></figure></li><li><p>增加disqusjs和utterances 兩個評論</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+disqusjs:</span></span><br><span class="line"><span class="addition">+  enable: false #開啟改為 true</span></span><br><span class="line"><span class="addition">+  shortname:</span></span><br><span class="line"><span class="addition">+  siteName:</span></span><br><span class="line"><span class="addition">+  apikey:</span></span><br><span class="line"><span class="addition">+  api: https://disqus.skk.moe/disqus/ #一般情況下無需修改 API 地址</span></span><br><span class="line"><span class="addition">+  admin:</span></span><br><span class="line"><span class="addition">+  adminLabel:</span></span><br><span class="line"><span class="addition">+  count: true # top_img顯示評論數</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ utterances:</span></span><br><span class="line"><span class="addition">+   enable: false</span></span><br><span class="line"><span class="addition">+   repo: jerryc127/jerryc127.github.io # 可選 pathname/url/title/og:title</span></span><br><span class="line"><span class="addition">+   issue_term: pathname # 可選 github-light/github-dark/github-dark-orange/icy-dark/dark-blue/photon-dark</span></span><br><span class="line"><span class="addition">+  light_theme: github-light</span></span><br><span class="line"><span class="addition">+  dark_theme: photon-dark</span></span><br></pre></td></tr></table></figure></li><li><p>首頁subtitle可關閉打字效果，可設置打字效果顯示一次或loop</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">subtitle:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="addition">+  # 打字效果</span></span><br><span class="line"><span class="addition">+  effect: true</span></span><br><span class="line"><span class="addition">+  # 循環或者只打字一次</span></span><br><span class="line"><span class="addition">+  loop: false</span></span><br><span class="line">  # source調用第三方服務</span><br><span class="line">  # source: false 關閉調用</span><br><span class="line">  # source: 1  調用金山詞霸的每日一句(簡體)</span><br><span class="line">  # source: 2  調用一言網的一句話(簡體) #https://hitokoto.cn/</span><br><span class="line">  # source: 3  調用一句網(簡體) http://yijuzhan.com/</span><br><span class="line">  # source: 4  調用今日詩詞(簡體) https://www.jinrishici.com/</span><br><span class="line">  # subtitle 會先顯示 source , 再顯示 sub 的內容</span><br><span class="line">  source: 2</span><br><span class="line">  # (如果有英文逗號&#x27; , &#x27;，請使用轉義字符 &amp;#44;)</span><br><span class="line">  # 如果關閉打字效果，subtitle只會顯示sub的第一行文字</span><br><span class="line">  sub:</span><br><span class="line">    - 今日事&amp;#44;今日畢</span><br><span class="line">    - Never put off till tomorrow what you can do today</span><br></pre></td></tr></table></figure></li><li><p>增加valine和gitalk的配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">gitalk:</span><br><span class="line">  enable: false</span><br><span class="line">  client_id:</span><br><span class="line">  client_secret:</span><br><span class="line">  repo:</span><br><span class="line">  owner:</span><br><span class="line">  admin:</span><br><span class="line">  language: zh-CN # en , zh-CN , zh-TW</span><br><span class="line"><span class="addition">+  perPage: 10 # Pagination size, with maximum 100.</span></span><br><span class="line"><span class="addition">+  distractionFreeMode: false # Facebook-like distraction free mode.</span></span><br><span class="line"><span class="addition">+  pagerDirection: last # Comment sorting direction, available values are last and first.</span></span><br><span class="line"><span class="addition">+  createIssueManually: false # Gitalk will create a corresponding github issue for your every single page automatically</span></span><br><span class="line">  count: true # top_img顯示評論數</span><br><span class="line"></span><br><span class="line">valine:</span><br><span class="line">  enable: false # if you want use valine,please set this value is true</span><br><span class="line">  appId:  # leancloud application app id</span><br><span class="line">  appKey:  # leancloud application app key</span><br><span class="line">  notify: false # valine mail notify (true/false) https://github.com/xCss/Valine/wiki</span><br><span class="line">  verify: false # valine verify code (true/false)</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https://valine.js.org/#/avatar</span><br><span class="line">  lang: en # i18n: zh-cn/en</span><br><span class="line">  placeholder: 記得留下你的暱稱和郵箱....可以快速收到回覆 # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">  guest_info: nick,mail,link #valine comment header info</span><br><span class="line"><span class="addition">+  recordIP: false # Record reviewer IP</span></span><br><span class="line"><span class="addition">+  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span></span><br><span class="line">  bg: /img/comment_bg.png # valine background</span><br><span class="line">  count: true # top_img顯示評論數</span><br></pre></td></tr></table></figure></li><li><p>darkmode配置整理</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- # 夜間模式</span></span><br><span class="line"><span class="deletion">- darkmode:</span></span><br><span class="line"><span class="deletion">-  enable: true</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-# 自動切換 dark mode和 light mode</span></span><br><span class="line"><span class="deletion">-# autoChangeMode: 1  跟隨系統而變化，不支持的瀏覽器/系統將按照時間晚上6點到早上6點之間切換為 dark mode</span></span><br><span class="line"><span class="deletion">-# autoChangeMode: 2  只按照時間晚上6點到早上6點之間切換為 dark mode</span></span><br><span class="line"><span class="deletion">-# autoChangeMode: false 取消自動切換</span></span><br><span class="line"><span class="deletion">-autoChangeMode: false</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+ darkmode:</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  # dark mode和 light mode切換按鈕</span></span><br><span class="line"><span class="addition">+  button: true</span></span><br><span class="line"><span class="addition">+  # 自動切換 dark mode和 light mode</span></span><br><span class="line"><span class="addition">+  # autoChangeMode: 1  跟隨系統而變化，不支持的瀏覽器/系統將按照時間晚上6點到早上6點之間切換為 dark mode</span></span><br><span class="line"><span class="addition">+  # autoChangeMode: 2  只按照時間晚上6點到早上6點之間切換為 dark mode</span></span><br><span class="line"><span class="addition">+  # autoChangeMode: false 取消自動切換</span></span><br><span class="line"><span class="addition">+  autoChangeMode: false</span></span><br></pre></td></tr></table></figure></li><li><p>增加404頁面</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# A simple 404 page</span></span><br><span class="line"><span class="addition">+error_404:</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  subtitle: &quot;頁面沒有找到&quot;</span></span><br><span class="line"><span class="addition">+  background:</span></span><br></pre></td></tr></table></figure></li><li><p>post_beautify改為beautify，頁面美化不再只限於post頁，page頁也一樣</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-post_beautify:</span></span><br><span class="line"><span class="addition">+beautify:</span></span><br><span class="line">  enable: true</span><br><span class="line">  title-prefix-icon: &#x27;\f0c1&#x27;</span><br><span class="line">  title-prefix-icon-color: &quot;#F47466&quot;</span><br></pre></td></tr></table></figure></li><li><p>可設置是否顯示cover，可設置各位置的cover顯示</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-# the default cover of the post</span></span><br><span class="line"><span class="deletion">-default_cover: https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-index_post_cover: both</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+cover:</span></span><br><span class="line"><span class="addition">+  # 是否顯示文章封面</span></span><br><span class="line"><span class="addition">+  index_enable: true</span></span><br><span class="line"><span class="addition">+  aside_enable: true</span></span><br><span class="line"><span class="addition">+  archives_enable: true</span></span><br><span class="line"><span class="addition">+  # 封面顯示的位置</span></span><br><span class="line"><span class="addition">+  # 三個值可配置 left , right , both</span></span><br><span class="line"><span class="addition">+  position: both</span></span><br><span class="line"><span class="addition">+  # 當沒有設置cover時，默認的封面顯示</span></span><br><span class="line"><span class="addition">+  default_cover:</span></span><br></pre></td></tr></table></figure></li><li><p>增加mermaid,可畫流程圖、狀態圖、時序圖、甘特圖等等</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# https://github.com/knsv/mermaid</span></span><br><span class="line"><span class="addition">+mermaid:</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  # built-in themes: default/forest/dark/neutral</span></span><br><span class="line"><span class="addition">+  theme: default</span></span><br></pre></td></tr></table></figure></li><li><p>增加pangu配置，中英文之間添加空格</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+# https://github.com/vinta/pangu.js</span></span><br><span class="line"><span class="addition">+# 中英文之間添加空格</span></span><br><span class="line"><span class="addition">+pangu:</span></span><br><span class="line"><span class="addition">+  enable: true</span></span><br><span class="line"><span class="addition">+  field: page # page/post</span></span><br></pre></td></tr></table></figure></li><li><p>整合部分配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-avatar_effect: false</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+avatar:</span></span><br><span class="line"><span class="addition">+  img: /img/avatar.png</span></span><br><span class="line"><span class="addition">+  effect: true # 頭像會一直轉圈</span></span><br></pre></td></tr></table></figure></li><li><p>post-copyright增加decode網址 (可以顯示中文)</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line"><span class="addition">+  decode: false</span></span><br><span class="line">  license: CC BY-NC-SA 4.0</span><br><span class="line">  license_url: https://creativecommons.org/licenses/by-nc-sa/4.0/</span><br></pre></td></tr></table></figure></li><li><p>增加部分顏色配置</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">theme_color:</span><br><span class="line">  enable: true</span><br><span class="line">  main: &quot;#49B1F5&quot;</span><br><span class="line">  paginator: &quot;#00c4b6&quot;</span><br><span class="line">  button_hover: &quot;#FF7242&quot;</span><br><span class="line">  text_selection: &quot;#00c4b6&quot;</span><br><span class="line">  link_color: &quot;#99a9bf&quot;</span><br><span class="line">  meta_color: &#x27;#858585&#x27;</span><br><span class="line">  hr_color: &quot;#A4D8FA&quot;</span><br><span class="line"><span class="deletion">-  read-mode-bg_color: &#x27;#FAF9DE&#x27;</span></span><br><span class="line"><span class="deletion">-  inline-code-color: &#x27;#F47466&#x27;</span></span><br><span class="line"><span class="addition">+  code_foreground: &quot;#F47466&quot;</span></span><br><span class="line"><span class="addition">+  code_background: &quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line"><span class="addition">+  toc_color: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="addition">+  blockquote_padding_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="addition">+  blockquote_background_color: &quot;#49b1f5&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>主頁文章增加tags和更新日期顯示，可以配置post_meta</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">post_meta:</span><br><span class="line"><span class="deletion">-  date_type: both # or created or updated 文章日期是創建日或者更新日或都顯示</span></span><br><span class="line"><span class="deletion">-  categories: true # or false 是否顯示分類</span></span><br><span class="line"><span class="deletion">-  tags: true # or false 是否顯示標籤</span></span><br><span class="line"><span class="addition">+  page:</span></span><br><span class="line"><span class="addition">+    date_type: both # created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span></span><br><span class="line"><span class="addition">+    categories: true # true or false 主頁是否顯示分類</span></span><br><span class="line"><span class="addition">+    tags: true # true or false 主頁是否顯示標籤</span></span><br><span class="line"><span class="addition">+  post:</span></span><br><span class="line"><span class="addition">+    date_type: both # created or updated or both 文章頁日期是創建日或者更新日或都顯示</span></span><br><span class="line"><span class="addition">+    categories: true # true or false 文章頁是否顯示分類</span></span><br><span class="line"><span class="addition">+    tags: true # true or false 文章頁是否顯示標籤</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>適配IE</li><li>增加一個Tag Plugins: 圖庫集</li><li>增加一個Tag Plugins: tag-hide 功能 inline&#x2F;block</li><li>去除page頁開頭顯示與標題一樣的內容</li><li>aside 公告欄設置，支持html代碼</li><li>手機界面sidebar顯示進度條和加深對應的標題</li><li>主頁subtitle 的 hitokoto 顯示內容出處</li><li>footer 的hexo鏈接改為https</li><li>修改手機下，menus和toc的打開效果</li><li>手機頁面下，搜索界面全屏顯示</li><li>SEO優化，標題欄改為h1顯示</li><li>閲讀模式優化，可根據light mode 和darkmode調整背景</li><li>當屏蔽js時，header會出現(之前用js控制，會隱藏)</li></ol><h3 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h3><ol><li>修復Tencent Analytics的script加載為https #105</li><li>修復相關文章，日期顯示錯誤bug</li><li>修復gitalk報錯問題</li><li>修復當valine background 是絕對地址時無法顯示的bug</li><li>修復medium-zoom 無法使用的bug</li><li>修復在safari下，點擊或移動到首頁文章cover，圓角變成正方形的bug #114</li><li>修復在部分瀏覽器下，aside,友情鏈接頭像轉動變形的bug</li><li>修復在寬度限制下，表格內容溢出屏幕外而出現滾動條的bug #138</li><li>修復gitalk js 在一些沒有設置評論的page里加載的bug</li><li>修復tag plugins 的gist 在不同主題下的背景顏色問題(黑色主題下，文字不易觀看)</li><li>修復highlight figcaption 顯示不全的bug</li><li>修復disqus評論數無法獲取的bug</li><li>修復子目錄在觸摸屏下點擊,偶爾不出現的bug</li><li>修復a標籤太長(連續英文字母)不會換行的bug</li><li>修復toc滾動時，閲讀進度條也跟着滾動的bug</li><li>修復aside的圖片，可點擊顯示大圖bug</li><li>修復activate-power-mode設置參數無效bug</li><li>修復語言上的錯誤 #156</li><li>修復主頁在safari桌面端，首頁滾動卡頓的bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">2.1.0 (2019/12/20)</summary><div class="toggle-content"><h2 id="2-1-0-2019-12-20"><a href="#2-1-0-2019-12-20" class="headerlink" title="2.1.0 (2019&#x2F;12&#x2F;20)"></a>2.1.0 (2019&#x2F;12&#x2F;20)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>可設置隱藏文章</li><li>適配 Hexo 的 Tag Plugins Code Block With marked lines 顯示</li><li>可配置首頁 cover 顯示的位置</li><li>更改深色模式下的配色</li><li>activate_power_mode 增加關閉顏色和抖動</li><li>增加谷歌廣告，騰訊分析</li><li>相關文章增加時間顯示，調整佈局，垂直居中</li><li>文章頁面，top_img 增加評論數顯示</li><li>可以取消點擊圖片觀看大圖</li><li>mathjax 和 kathex 可設置每頁都加載還是按需加載</li><li>深色模式下，滾動條顏色的適配</li><li>優化 gitalk 在 dark mode 下的顯示</li><li>文章頁，文章標題過長時，只顯示三行內容</li><li>深色模式下，背景圖片加上蒙板</li><li>優化深色&#x2F;閲讀模式下，canvas 的顯示</li><li>優化打賞的特效和移動到二維碼不會立刻消失</li><li>優化 sub-menu 樣式</li><li>修改 aside 的 tags 顏色，在深色模式下不會出現觀看困難</li><li>升級 normalize.css 到最新版</li><li>優化手機上 toc 和 menu 的打開動畫</li><li>優化代碼框打開關閉的特效</li><li>精簡 js,部分操作改為 css 控制</li><li>優化主題的一些動畫，不會過於生硬</li></ol><h3 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h3><ol><li>修復當圖片被 a 標籤包圍時，點擊圖標沒有跳轉到對應網頁而是出現大圖觀看模式的 bug</li><li>修復當網址有 subdirectory 時，menu、打賞二維碼和 lodding_bg 鏈接路徑錯誤的 bug</li><li>修復當網址有 subdirectory 時,</li><li>修復 katex 的 CSS 無法讀取 bug</li><li>修復搜索按鈕在文章頁不顯示的 bug</li><li>修復 gitalk css 引用失敗的 bug</li><li>修復 點擊特效 煙花 無效的 bug</li><li>修復 gitalk 報 path.startsWith is not a function 的 bug</li><li>修復 閲讀模式下，背景沒有變純色的 bug</li><li>修復閲讀模式下，header 偶爾出現沒有靠攏頂部的 bug</li><li>修復 Hexo Tag Plugins Block Quote 裏的鏈接顯示出外面的 Bug</li><li>修復 aside 歸檔日期過長導致錯位的 bug</li><li>修復 toc 為空時，toc 按鈕仍存在的 bug</li><li>修復關閉懶加載後，頭像無法顯示的 bug</li><li>修復深色模式下，切換 readmode 偶爾會無效的 bug</li><li>修復在一些手機設備上，toc 和 menu 的按鈕顯示不對齊的 bug #72</li></ol></div></details><details class="toggle"><summary class="toggle-button">2.0.0 (2019/11/03)</summary><div class="toggle-content"><h2 id="2-0-0-2019-11-03"><a href="#2-0-0-2019-11-03" class="headerlink" title="2.0.0 (2019&#x2F;11&#x2F;03)"></a>2.0.0 (2019&#x2F;11&#x2F;03)</h2><h3 id="Breaking-change"><a href="#Breaking-change" class="headerlink" title="Breaking change"></a>Breaking change</h3><ol><li>手機端界面卡片化，同時，手機端也可以顯示側邊欄的內容</li><li>修復當menu過多時，header界面出現錯亂的bug。當menu過多時，會變為sidebar模式</li><li>增加medium-zoom大圖查看模式</li><li>增加鼠標點擊特效：文字和愛心 兩個點擊特效</li><li>主頁subtitle可以調用第三方api(金山詞霸每日一句、一言網的一句話、一句網、今日詩詞)</li><li>添加 snackbar 彈窗</li><li>修改nightshift為darkmode，darkmode可隨系統設置而自動切換，可設置隨時間而切換darkmode</li><li>修復hexo自帶的標籤外掛(Tag Plugins)顯示bug(Block Quote、Code Block With caption、Gist、Youtube、Vimeo)</li><li>主題所需要的css和js可根據需要配置CDN</li><li>更改darkmode的加載方式，網站設置dark mode後，現在進入網頁不會在’閃’一下</li><li>背景特效和背景圖片在手機界面也會顯示</li><li>增加justified-gallery圖片顯示(Tag Plugins)</li></ol><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>文章頁面，字數統計、閲讀時長和閲讀量前面添加icon</li><li>更改懶加載js</li><li>升級typed.js&#x2F;instantpage.js到最新版</li><li>搜索和右下角按鈕添加退出特效</li></ol><h3 id="Fixed"><a href="#Fixed" class="headerlink" title="Fixed"></a>Fixed</h3><ol><li>修復在 Hexo 4.0.0下，一些按鈕點擊會跳出一個空白頁的bug</li><li>修復在 Hexo 4.0.0下，分頁按鈕出現代碼的bug</li><li>修復當沒有設置評論時，右下角依舊出現’直達評論’按鈕的bug</li><li>優化sidebar的打開速度</li><li>修復文章頁標題左右邊距不平等的bug</li><li>修復keywords讀取的bug</li><li>修復當post&#x2F;page 內容為空時，footer位置錯亂的bug</li><li>修復在手機safari，toc sidebar底部內容被遮擋的bug</li><li>完善Dark mode,一些界面的配色</li><li>修復 card-archives 查看更多 跳轉bug</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li>移除Gitment</li><li>移除Gallery</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.2.0 (2019/09/24)</summary><div class="toggle-content"><h2 id="1-2-0-2019-09-24"><a href="#1-2-0-2019-09-24" class="headerlink" title="1.2.0 (2019&#x2F;09&#x2F;24)"></a>1.2.0 (2019&#x2F;09&#x2F;24)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>更改手機頁面的menu和toc的顯示方式和顯示特效(ipad也能看TOC)</li><li>可設置禁止複製網站內容</li><li>可設置複製時，內容自動加上版權信息</li><li>可修改tag的top_img</li><li>可修改category的top_img</li><li>可修改valine的背景</li><li>archives頁UI優化</li><li>ICP增加icon #37</li><li>可設置主頁top_img的高度</li><li>可設置主頁site-info的位置</li><li>category頁和tag頁的UI可以設置與主頁UI一樣 #31</li><li>主頁subtitle可設置多個句子(不再限制2個) #37</li><li>設置menu時，頭尾添加空格不受影響</li><li>調整post頁的佈局</li><li>書籤添加icon</li><li>公告icon效果</li><li>首頁歸檔模塊，可設置數量限制，會顯示’查看更多’按鈕</li><li>右下角按鈕調整。</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol start="19"><li>修復文章cover隨機圖片生成，同一篇文章，不同地方的cover顯示不一樣的bug</li><li>修復gitalk語言設置無效的bug #35</li><li>修復post頁面，當沒有設置word count時，閲讀量前有’|”</li><li>修復sub-menu在safari的顯示問題</li><li>修復tags頁評論居中問題</li><li>修復header a hover 白色問題</li><li>修復夜間模式下footer的顏色bug</li><li>修復英文語言下，書籤英文顯示不完整的問題</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.1.5 (2019/09/08)</summary><div class="toggle-content"><h2 id="1-1-5-2019-09-08"><a href="#1-1-5-2019-09-08" class="headerlink" title="1.1.5 (2019&#x2F;09&#x2F;08)"></a>1.1.5 (2019&#x2F;09&#x2F;08)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>Feature: 可設置內聯代碼塊樣式 #26</li><li>Feature: 可設置夜間模式作為默認樣式</li><li>Feature: 可設置是否顯示code language名稱</li><li>Feature: 可設置是否展開或關閉代碼框</li><li>Feature: 可設置背景圖片&#x2F;顏色</li><li>Feature: 可設置是否顯示footer背景</li><li>Feature: 增加 canvas-nest.js</li><li>Feature: 頭像可設置效果(轉圈圈)</li><li>Feature: menu可設置分組</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol start="10"><li>Fix: 優化打賞和搜索打開特效</li><li>Fix: 優化sidebar的打開特效，避免與文章頁特效不同步</li><li>Fix: 適配<strong>hexo-blog-encrypt</strong>，現在可以顯示toc</li><li>Fix: 修復設置不顯示評論時，直達評論按鈕沒有消失的bug</li><li>Fix: 修復post頁底欄，當沒有顯示評論，不顯示TOC，評論和toc都不顯示 這三種狀態下按鈕的bug</li><li>Fix: 修復代碼框左右滑動時，代碼名字跟着滑動的bug</li><li>Fix: 其他page頁標題的字體顯示</li><li>Fix: 修復當設置開啟canvas_ribbons，進入網站會先顯示canvas_ribbons的bug</li><li>Fix: 完善夜間模式下，字體顯示問題</li><li>Fix: 修復代碼框 複製 和 代碼名 z-index bug #25</li><li>Fix: 完善閲讀模式</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.1.0 (2019/08/29)</summary><div class="toggle-content"><h2 id="1-1-0-2019-08-29"><a href="#1-1-0-2019-08-29" class="headerlink" title="1.1.0 (2019&#x2F;08&#x2F;29)"></a>1.1.0 (2019&#x2F;08&#x2F;29)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>Feature: 手機menu界面重新設計</li><li>Feature: 文章頁增加美化(原 melody主題功能),並增加更改標題前綴圖標和顏色</li><li>Feature: PC端增加直達評論按鈕</li><li>Feature: 可以對單獨文章設置是否顯示版權信息</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>Fix: 修復閲讀模式下，調整字體大小對代碼無效的bug</li><li>Fix: 調整Valine字體顯示問題</li><li>Fix: 修正夜間模式下Valine的適配問題</li><li>Fix: 修復Valine設置notify和verify無效的bug (thx @VincentTV )</li><li>Fix: 修復使用hexo-asset-image,開啟懶加載後，圖片會出現無法加載問題</li><li>Fix:修復 ‘返回頂部’箭頭無法點擊的bug</li></ol><h3 id="Remove"><a href="#Remove" class="headerlink" title="Remove"></a>Remove</h3><ol><li>Remove: 去掉主題”閲讀更多”按鈕</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.0.8 (2019/08/11)</summary><div class="toggle-content"><h2 id="1-0-8-2019-08-11"><a href="#1-0-8-2019-08-11" class="headerlink" title="1.0.8 (2019&#x2F;08&#x2F;11)"></a>1.0.8 (2019&#x2F;08&#x2F;11)</h2><ol><li>Feature: 可關閉圖片懶加載</li><li>Feature: 增加頁面排版，可選擇把右邊欄放在左邊</li><li>Feature: 增加 Note (Bootstrap Callout) (移植於next主題)</li><li>Feature: 手機上能夠查看TOC</li><li>Feature: 增加直達評論按鈕</li><li>Fix: 修復post頁在寬度1024px下的顯示bug</li><li>Fix: 修復代碼框部分語言沒有顯示正確的代碼語言</li><li>Fix: 修復設置裏把Disqus註釋掉無法運行的bug</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.0.7 (2019/07/29)</summary><div class="toggle-content"><h2 id="1-0-7-2019-07-29"><a href="#1-0-7-2019-07-29" class="headerlink" title="1.0.7 (2019&#x2F;07&#x2F;29)"></a>1.0.7 (2019&#x2F;07&#x2F;29)</h2><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>Feature: add the option to change the site name font-family</li><li>Feature: add the option to close instant-page</li><li>Feature: the sidebar can auto scroll when the toc out of the screen</li></ol><h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ol><li>Fix: random cover of previous post and next post</li><li>Fix: Display null when the subtitle not set</li><li>Fix: display related post’s headline when it is not related posts</li><li>Fix: the bugs of image display</li><li>Fix: When the picture is loaded, the picture appears black frame</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.0.6 (2019/07/06)</summary><div class="toggle-content"><h2 id="1-0-6-2019-07-06"><a href="#1-0-6-2019-07-06" class="headerlink" title="1.0.6 (2019&#x2F;07&#x2F;06)"></a>1.0.6 (2019&#x2F;07&#x2F;06)</h2><ol><li>Feature: random cover #10</li><li>Fix: valine lang not work</li><li>Fix: archives page site name not change when the language change</li><li>Fix: related posts url error</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.0.5 (2019/06/28)</summary><div class="toggle-content"><h2 id="1-0-5-2019-06-28"><a href="#1-0-5-2019-06-28" class="headerlink" title="1.0.5 (2019&#x2F;06&#x2F;28)"></a>1.0.5 (2019&#x2F;06&#x2F;28)</h2><ol><li>fix bugs of gitalk #9</li><li>fix bugs of valine</li><li>new look of the mobile menu</li></ol></div></details><details class="toggle"><summary class="toggle-button">1.0.0 (2019.06/17)</summary><div class="toggle-content"><h2 id="1-0-0-2019-06-17"><a href="#1-0-0-2019-06-17" class="headerlink" title="1.0.0 (2019.06&#x2F;17)"></a>1.0.0 (2019.06&#x2F;17)</h2><p>first release</p></div></details></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Tian</div><div class="author-info__description">没有一点用处的博客!😎😴😪</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/TianJiaJi"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/TianJiaJi" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:blog@tianjiaji.cloudns.biz" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">开新坑！职业技能大赛文字版教程.</div></div><div class="card-widget card-docs card-categories"><div class="item-headline"><i class="fas fa-car-side"></i><span>文档目录</span></div><div class="item-content"><ul class="card-category-list"><li class="card-category-list-item"><a class="card-category-list-link" href="/posts/21cfbf15.html">🚀 快速開始</a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/posts/dc584b87.html">📑 主題頁面</a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/posts/4aa8abbe.html">📌 主題配置-1</a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/posts/ceeb73f.html">⚔️ 主題配置-2</a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/posts/98d20436.html">❓ 主題問答</a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/posts/4073eda.html">⚡️ 進階教程</a></li></ul></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/28/2023%E5%B9%B4%E6%98%86%E6%98%8E%E5%B8%82%E4%B8%AD%E8%81%8C%E5%AD%A6%E6%A0%A1%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B%20%E8%B5%9B%E9%A1%B9%E8%A7%84%E7%A8%8B/undefined/undefined.html" title="2023年昆明市中职学校技能大赛 赛项规程"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="2023年昆明市中职学校技能大赛 赛项规程"></a><div class="content"><a class="title" href="/2024/03/28/2023%E5%B9%B4%E6%98%86%E6%98%8E%E5%B8%82%E4%B8%AD%E8%81%8C%E5%AD%A6%E6%A0%A1%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B%20%E8%B5%9B%E9%A1%B9%E8%A7%84%E7%A8%8B/undefined/undefined.html" title="2023年昆明市中职学校技能大赛 赛项规程">2023年昆明市中职学校技能大赛 赛项规程</a><time datetime="2024-03-28T12:00:00.000Z" title="发表于 2024-03-28 12:00:00">2024-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/12/Tomcat-%E6%9C%8D%E5%8A%A1/undefined/undefined.html" title="Tomcat 服务"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg2.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Tomcat 服务"></a><div class="content"><a class="title" href="/2024/03/12/Tomcat-%E6%9C%8D%E5%8A%A1/undefined/undefined.html" title="Tomcat 服务">Tomcat 服务</a><time datetime="2024-03-12T00:26:40.000Z" title="发表于 2024-03-12 00:26:40">2024-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/03/yum%E6%BA%90%E9%85%8D%E7%BD%AE/undefined/undefined.html" title="yum源配置"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg3.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="yum源配置"></a><div class="content"><a class="title" href="/2024/03/03/yum%E6%BA%90%E9%85%8D%E7%BD%AE/undefined/undefined.html" title="yum源配置">yum源配置</a><time datetime="2024-03-02T16:29:24.000Z" title="发表于 2024-03-02 16:29:24">2024-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/02/%E5%8D%95%E6%8B%9B%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/undefined/undefined.html" title="高职院校单独考试招生面试问题"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="高职院校单独考试招生面试问题"></a><div class="content"><a class="title" href="/2024/03/02/%E5%8D%95%E6%8B%9B%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E9%9B%86%E5%90%88/undefined/undefined.html" title="高职院校单独考试招生面试问题">高职院校单独考试招生面试问题</a><time datetime="2024-03-02T13:49:35.000Z" title="发表于 2024-03-02 13:49:35">2024-03-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/20/2024-1-20-vulgar_poet/undefined/undefined.html" title="恶俗古风诗歌生成器"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="恶俗古风诗歌生成器"></a><div class="content"><a class="title" href="/2024/02/20/2024-1-20-vulgar_poet/undefined/undefined.html" title="恶俗古风诗歌生成器">恶俗古风诗歌生成器</a><time datetime="2024-02-20T15:29:39.564Z" title="发表于 2024-02-20 15:29:39">2024-02-20</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline"><i class="fas fa-folder-open"></i> <span>分类</span> <a class="card-more-btn" href="/categories/" title="查看更多"><i class="fas fa-angle-right"></i></a></div><ul class="card-category-list" id="aside-cat-list"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/Demo/"><span class="card-category-list-name">Demo</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/Docs%E6%96%87%E6%AA%94/"><span class="card-category-list-name">Docs文檔</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/Markdown/"><span class="card-category-list-name">Markdown</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/"><span class="card-category-list-name">博客</span><span class="card-category-list-count">6</span></a><ul class="card-category-list child"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/%E8%81%8C%E4%B8%9A%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B/"><span class="card-category-list-name">职业技能大赛</span><span class="card-category-list-count">5</span></a><ul class="card-category-list child"><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/%E8%81%8C%E4%B8%9A%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B/%E6%95%99%E7%A8%8B/"><span class="card-category-list-name">教程</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/%E8%81%8C%E4%B8%9A%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B/%E9%A2%98%E7%9B%AE/"><span class="card-category-list-name">题目</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item"><a class="card-category-list-link" href="/categories/%E5%8D%9A%E5%AE%A2/%E9%A2%98%E7%9B%AE/"><span class="card-category-list-name">题目</span><span class="card-category-list-count">1</span></a></li></ul></li></ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Aplayer/" style="font-size:1.1em;color:#999">Aplayer</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size:1.15em;color:#999b9e">主题</a> <a href="/tags/%E7%94%9F%E6%88%90%E5%99%A8/" style="font-size:1.15em;color:#999b9e">生成器</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size:1.25em;color:#999fa7">博客</a> <a href="/tags/Bar/" style="font-size:1.1em;color:#999">Bar</a> <a href="/tags/butterfly/" style="font-size:1.45em;color:#99a7ba">butterfly</a> <a href="/tags/%E7%BB%9F%E8%AE%A1/" style="font-size:1.1em;color:#999">统计</a> <a href="/tags/%E5%8D%95%E6%8B%9B%E9%9D%A2%E8%AF%95/" style="font-size:1.1em;color:#999">单招面试</a> <a href="/tags/%E4%B8%BB%E9%A1%8C/" style="font-size:1.35em;color:#99a3b1">主題</a> <a href="/tags/Hexo/" style="font-size:1.4em;color:#99a5b6">Hexo</a> <a href="/tags/%E5%8D%95%E7%8B%AC%E8%80%83%E8%AF%95/" style="font-size:1.1em;color:#999">单独考试</a> <a href="/tags/%E6%A0%87%E7%B1%A4%E5%A4%96%E6%8C%82/" style="font-size:1.1em;color:#999">标籤外挂</a> <a href="/tags/%E8%81%8C%E4%B8%9A%E6%8A%80%E8%83%BD%E5%A4%A7%E8%B5%9B/" style="font-size:1.3em;color:#99a1ac">职业技能大赛</a> <a href="/tags/%E6%95%99%E7%A8%8B/" style="font-size:1.5em;color:#99a9bf">教程</a> <a href="/tags/top-img/" style="font-size:1.1em;color:#999">top_img</a> <a href="/tags/highlight/" style="font-size:1.1em;color:#999">highlight</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%9B%AE/" style="font-size:1.1em;color:#999">面试题目</a> <a href="/tags/%E5%BC%80%E6%BA%90/" style="font-size:1.2em;color:#999da3">开源</a> <a href="/tags/github/" style="font-size:1.1em;color:#999">github</a> <a href="/tags/%E9%A2%98%E7%9B%AE/" style="font-size:1.2em;color:#999da3">题目</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size:1.2em;color:#999da3">工具</a> <a href="/tags/demo/" style="font-size:1.1em;color:#999">demo</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多"> <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">七月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/05/"><span class="card-archive-list-date">五月 2020</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">22</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishdate="2023-12-31T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">48.3k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastpushdate="2024-03-31T08:34:45.267Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By Tian</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎光临😀💕</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js").then(()=>{pangu.autoSpacingPage()})}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"></div><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-heart.min.js" async mobile="false"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(btf.removeGlobalFnEvent("pjax"),btf.removeGlobalFnEvent("themeChange"),document.getElementById("rightside").classList.remove("rightside-show"),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>